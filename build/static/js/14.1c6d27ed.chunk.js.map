{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","views/games/TicTacToe.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","Square","props","className","highlight","onClick","Board","coordinate","key","this","squares","boardColumn","count","column","boardRow","row","renderSquare","renderBoard","React","Component","Gobang","state","history","fill","xIsNext","stepNumber","sort","window","addEventListener","e","document","body","classList","add","remove","keyCode","target","tagName","preventDefault","slice","current","calculateWinner","forEach","map","setState","concat","step","status","winner","moves","move","coordinateText","historyAtrribute","desc","Button","inverted","color","jumpTo","member","Element","checkBoard","handleClick","reverse","lines","a","b","c"],"mappings":"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","file":"static/js/14.1c6d27ed.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import React from 'react'\r\nimport { Button } from 'semantic-ui-react'\r\nimport '../../assets/sass/Gobang.css'\r\n\r\ninterface SquareType {\r\n  [index: number]: string\r\n}\r\n\r\ninterface SquareProps {\r\n  highlight: string,\r\n  onClick: () => void,\r\n  value: string\r\n}\r\nfunction Square (props: SquareProps) {\r\n  return (\r\n    <button className={`square ${props.highlight}`} onClick={props.onClick}>\r\n      {props.value}\r\n    </button>\r\n  )\r\n}\r\n\r\ninterface BoardProps {\r\n  squares: SquareType,\r\n  highlight: string[],\r\n  onClick: (i: number, coordinate: any) => void\r\n}\r\nclass Board extends React.Component<BoardProps, {}> {\r\n  renderSquare (i: number, coordinate: any) {\r\n    return (\r\n      <Square\r\n        key={`square${i}`}\r\n        value={this.props.squares[i]}\r\n        highlight={this.props.highlight[i]}\r\n        onClick={() => this.props.onClick(i, coordinate)}\r\n      />\r\n    )\r\n  }\r\n  renderBoard () {\r\n    let boardColumn = [], count = 0\r\n    for (var column = 0; column < 3; column++) {\r\n      let boardRow = []\r\n      for (var row = 0; row < 3; row++) {\r\n        boardRow.push(this.renderSquare(count, [column + 1, row + 1]))\r\n        count++\r\n      }\r\n      boardColumn.push(<div className=\"board-row\" key={`column${column}`}>{boardRow}</div>)\r\n    }\r\n    return boardColumn\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        {this.renderBoard()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\ninterface HistoryType {\r\n  squares: SquareType,\r\n  highlight: string,\r\n  coordinate: any,\r\n  className: string\r\n}\r\ninterface GobangProps {\r\n\r\n}\r\ninterface GobangState {\r\n  history: any,\r\n  stepNumber: number,\r\n  xIsNext: boolean,\r\n  sort: boolean\r\n}\r\nclass Gobang extends React.Component<GobangProps, GobangState> {\r\n  componentDidMount () {\r\n    window.addEventListener('mousedown', (e) => {\r\n      document.body.classList.add('mouse-navigation')\r\n      document.body.classList.remove('kbd-navigation')\r\n    })\r\n    window.addEventListener('keydown', (e) => {\r\n      if (e.keyCode === 9) {\r\n        document.body.classList.remove('mouse-navigation')\r\n        document.body.classList.add('kbd-navigation')\r\n      }\r\n    })\r\n    window.addEventListener('click', (e) => {\r\n      if ((e.target as any).tagName === 'A') {\r\n        e.preventDefault()\r\n      }\r\n    })\r\n  }\r\n  componentWillUnmount () {\r\n    document.body.classList.remove('mouse-navigation')\r\n    document.body.classList.remove('kbd-navigation')\r\n  }\r\n  handleClick (i: number, coordinate: any) { \r\n    const history = this.state.history.slice(0, this.state.stepNumber + 1)\r\n    const current = history[history.length - 1]\r\n    const squares = current.squares.slice()\r\n    const highlight = current.highlight\r\n    if (squares[i] || calculateWinner(squares)) return\r\n    history.forEach((map: any) => { map.className = '' })\r\n    squares[i] = this.state.xIsNext ? 'X' : 'O'\r\n    this.setState({\r\n      history: history.concat([{\r\n        squares: squares,\r\n        highlight: highlight,\r\n        coordinate: coordinate,\r\n        className: 'active-history'\r\n      }]),\r\n      xIsNext: !this.state.xIsNext,\r\n      stepNumber: history.length\r\n    })\r\n  }\r\n\r\n  jumpTo (step: number) {\r\n    let history = this.state.history.map((map: HistoryType) => {\r\n      map.className = ''\r\n      return map\r\n    })\r\n    history[step].className = 'active-history'\r\n    this.setState({\r\n      xIsNext: (step % 2) === 0,\r\n      stepNumber: step,\r\n      history: history\r\n    })\r\n  }\r\n\r\n  sort (sort: boolean) {\r\n    if (sort !== this.state.sort) {\r\n      this.setState({\r\n        sort: !this.state.sort\r\n      })\r\n    }\r\n  }\r\n  \r\n  constructor (props: GobangProps) {\r\n    super(props)\r\n    this.state = {\r\n      history: [{\r\n        squares: Array(9).fill(null),\r\n        highlight: Array(9).fill(null),\r\n        coordinate: [],\r\n        className: 'active-history'\r\n      }],\r\n      xIsNext: true,\r\n      stepNumber: 0,\r\n      sort: true\r\n    }\r\n  }\r\n\r\n  render () {\r\n    let history = this.state.history.slice()\r\n    let current = history[this.state.stepNumber]\r\n    const winner = calculateWinner(current.squares)\r\n    const moves = history.map((step: HistoryType, move: number) => {\r\n      let coordinateText = ''\r\n      let historyAtrribute = history[move]\r\n      if (historyAtrribute.coordinate.length > 0) coordinateText = `(${historyAtrribute.coordinate[0]}, ${historyAtrribute.coordinate[1]})`\r\n      const desc = move ? `Go to move # ${move} ${coordinateText}` : 'Go to game start'\r\n      return (\r\n        <li key={`move${move}`}>\r\n          <Button inverted color='pink' className={historyAtrribute.className} onClick={() => this.jumpTo(move)}>{desc}</Button>\r\n        </li>\r\n      )\r\n    })\r\n\r\n    let status\r\n    if (winner) {\r\n      status = `winner: ${winner.winner}`\r\n      winner.member.forEach(Element => {\r\n        current.highlight[Element] = 'winner-piece'\r\n      })\r\n    } else if (checkBoard(current.squares)) {\r\n      status = `平局`\r\n    } else {\r\n      status = `Next player: ${this.state.xIsNext ? 'X' : 'O'}`\r\n    }\r\n    return (\r\n      <div>\r\n        <div>{status}</div>\r\n        <div className=\"game\">\r\n          <div className=\"game-board\">\r\n            <Board squares={current.squares} highlight={current.highlight} onClick={(i, coordinate) => this.handleClick(i, coordinate)} />\r\n          </div>\r\n          <div className=\"game-info\">\r\n            <div>\r\n              <Button inverted color='violet' onClick={() => this.sort(true)}>升序</Button>\r\n              <Button inverted color='purple' onClick={() => this.sort(false)}>降序</Button>\r\n            </div>\r\n            <ul>{this.state.sort ? moves : moves.reverse()}</ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction calculateWinner (squares: SquareType) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8]\r\n  ]\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i]\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return { winner: squares[a], member: lines[i] }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\nfunction checkBoard (squares: SquareType) {\r\n  for (var i in squares) {\r\n    if (!squares[i]) return false\r\n  }\r\n  return true\r\n}\r\n\r\nexport default Gobang\r\n"],"sourceRoot":""}