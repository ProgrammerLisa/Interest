(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{301:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var a=n(12),o=n(13),i=n(14),s=n(15),r=n(16),d=n(298),l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h={type:"change"},c={type:"start"},u={type:"end"},m=function(t){function e(t,n,o){var r;return Object(a.a)(this,e),(r=Object(i.a)(this,Object(s.a)(e).call(this))).object=void 0,r.domElement=void 0,r.window=void 0,r.enabled=void 0,r.target=void 0,r.enableZoom=void 0,r.zoomSpeed=void 0,r.minDistance=void 0,r.maxDistance=void 0,r.enableRotate=void 0,r.rotateSpeed=void 0,r.enablePan=void 0,r.keyPanSpeed=void 0,r.autoRotate=void 0,r.autoRotateSpeed=void 0,r.minZoom=void 0,r.maxZoom=void 0,r.minPolarAngle=void 0,r.maxPolarAngle=void 0,r.minAzimuthAngle=void 0,r.maxAzimuthAngle=void 0,r.enableKeys=void 0,r.keys=void 0,r.mouseButtons=void 0,r.enableDamping=void 0,r.dampingFactor=void 0,r.spherical=void 0,r.sphericalDelta=void 0,r.scale=void 0,r.target0=void 0,r.position0=void 0,r.zoom0=void 0,r.state=void 0,r.panOffset=void 0,r.zoomChanged=void 0,r.rotateStart=void 0,r.rotateEnd=void 0,r.rotateDelta=void 0,r.panStart=void 0,r.panEnd=void 0,r.panDelta=void 0,r.dollyStart=void 0,r.dollyEnd=void 0,r.dollyDelta=void 0,r.updateLastPosition=void 0,r.updateOffset=void 0,r.updateQuat=void 0,r.updateLastQuaternion=void 0,r.updateQuatInverse=void 0,r.panLeftV=void 0,r.panUpV=void 0,r.panInternalOffset=void 0,r.onContextMenu=void 0,r.onMouseUp=void 0,r.onMouseDown=void 0,r.onMouseMove=void 0,r.onMouseWheel=void 0,r.onTouchStart=void 0,r.onTouchEnd=void 0,r.onTouchMove=void 0,r.onKeyDown=void 0,r.object=t,r.domElement=void 0!==n?n:document,r.window=void 0!==o?o:window,r.enabled=!0,r.target=new d.A,r.minDistance=0,r.maxDistance=1/0,r.minZoom=0,r.maxZoom=1/0,r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r.enableDamping=!1,r.dampingFactor=.25,r.enableZoom=!0,r.zoomSpeed=1,r.enableRotate=!0,r.rotateSpeed=1,r.enablePan=!0,r.keyPanSpeed=7,r.autoRotate=!1,r.autoRotateSpeed=2,r.enableKeys=!0,r.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},r.mouseButtons={ORBIT:d.i.LEFT,ZOOM:d.i.MIDDLE,PAN:d.i.RIGHT},r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.zoom0=r.object.zoom,r.updateOffset=new d.A,r.updateQuat=(new d.q).setFromUnitVectors(t.up,new d.A(0,1,0)),r.updateQuatInverse=r.updateQuat.clone().inverse(),r.updateLastPosition=new d.A,r.updateLastQuaternion=new d.q,r.state=l.NONE,r.scale=1,r.spherical=new d.u,r.sphericalDelta=new d.u,r.panOffset=new d.A,r.zoomChanged=!1,r.rotateStart=new d.z,r.rotateEnd=new d.z,r.rotateDelta=new d.z,r.panStart=new d.z,r.panEnd=new d.z,r.panDelta=new d.z,r.dollyStart=new d.z,r.dollyEnd=new d.z,r.dollyDelta=new d.z,r.panLeftV=new d.A,r.panUpV=new d.A,r.panInternalOffset=new d.A,r.onMouseDown=function(t){if(!1!==r.enabled){if(t.preventDefault(),t.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;r.rotateStart.set(t.clientX,t.clientY),r.state=l.ROTATE}else if(t.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;r.dollyStart.set(t.clientX,t.clientY),r.state=l.DOLLY}else if(t.button===r.mouseButtons.PAN){if(!1===r.enablePan)return;r.panStart.set(t.clientX,t.clientY),r.state=l.PAN}r.state!==l.NONE&&(document.addEventListener("mousemove",r.onMouseMove,!1),document.addEventListener("mouseup",r.onMouseUp,!1),r.dispatchEvent(c))}},r.onMouseMove=function(t){if(!1!==r.enabled)if(t.preventDefault(),r.state===l.ROTATE){if(!1===r.enableRotate)return;r.rotateEnd.set(t.clientX,t.clientY),r.rotateDelta.subVectors(r.rotateEnd,r.rotateStart);var e=r.domElement===document?r.domElement.body:r.domElement;r.rotateLeft(2*Math.PI*r.rotateDelta.x/e.clientWidth*r.rotateSpeed),r.rotateUp(2*Math.PI*r.rotateDelta.y/e.clientHeight*r.rotateSpeed),r.rotateStart.copy(r.rotateEnd),r.update()}else if(r.state===l.DOLLY){if(!1===r.enableZoom)return;r.dollyEnd.set(t.clientX,t.clientY),r.dollyDelta.subVectors(r.dollyEnd,r.dollyStart),r.dollyDelta.y>0?r.dollyIn(r.getZoomScale()):r.dollyDelta.y<0&&r.dollyOut(r.getZoomScale()),r.dollyStart.copy(r.dollyEnd),r.update()}else if(r.state===l.PAN){if(!1===r.enablePan)return;r.panEnd.set(t.clientX,t.clientY),r.panDelta.subVectors(r.panEnd,r.panStart),r.pan(r.panDelta.x,r.panDelta.y),r.panStart.copy(r.panEnd),r.update()}},r.onMouseUp=function(t){!1!==r.enabled&&(document.removeEventListener("mousemove",r.onMouseMove,!1),document.removeEventListener("mouseup",r.onMouseUp,!1),r.dispatchEvent(u),r.state=l.NONE)},r.onMouseWheel=function(t){!1===r.enabled||!1===r.enableZoom||r.state!==l.NONE&&r.state!==l.ROTATE||(t.preventDefault(),t.stopPropagation(),t.deltaY<0?r.dollyOut(r.getZoomScale()):t.deltaY>0&&r.dollyIn(r.getZoomScale()),r.update(),r.dispatchEvent(c),r.dispatchEvent(u))},r.onKeyDown=function(t){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(t.keyCode){case r.keys.UP:r.pan(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:r.pan(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:r.pan(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:r.pan(-r.keyPanSpeed,0),r.update()}},r.onTouchStart=function(t){if(!1!==r.enabled){switch(t.touches.length){case 1:if(!1===r.enableRotate)return;r.rotateStart.set(t.touches[0].pageX,t.touches[0].pageY),r.state=l.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom)return;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,a=Math.sqrt(e*e+n*n);r.dollyStart.set(0,a),r.state=l.TOUCH_DOLLY;break;case 3:if(!1===r.enablePan)return;r.panStart.set(t.touches[0].pageX,t.touches[0].pageY),r.state=l.TOUCH_PAN;break;default:r.state=l.NONE}r.state!==l.NONE&&r.dispatchEvent(c)}},r.onTouchMove=function(t){if(!1!==r.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===r.enableRotate)return;if(r.state!==l.TOUCH_ROTATE)return;r.rotateEnd.set(t.touches[0].pageX,t.touches[0].pageY),r.rotateDelta.subVectors(r.rotateEnd,r.rotateStart);var e=r.domElement===document?r.domElement.body:r.domElement;r.rotateLeft(2*Math.PI*r.rotateDelta.x/e.clientWidth*r.rotateSpeed),r.rotateUp(2*Math.PI*r.rotateDelta.y/e.clientHeight*r.rotateSpeed),r.rotateStart.copy(r.rotateEnd),r.update();break;case 2:if(!1===r.enableZoom)return;if(r.state!==l.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,a=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(n*n+a*a);r.dollyEnd.set(0,o),r.dollyDelta.subVectors(r.dollyEnd,r.dollyStart),r.dollyDelta.y>0?r.dollyOut(r.getZoomScale()):r.dollyDelta.y<0&&r.dollyIn(r.getZoomScale()),r.dollyStart.copy(r.dollyEnd),r.update();break;case 3:if(!1===r.enablePan)return;if(r.state!==l.TOUCH_PAN)return;r.panEnd.set(t.touches[0].pageX,t.touches[0].pageY),r.panDelta.subVectors(r.panEnd,r.panStart),r.pan(r.panDelta.x,r.panDelta.y),r.panStart.copy(r.panEnd),r.update();break;default:r.state=l.NONE}},r.onTouchEnd=function(t){!1!==r.enabled&&(r.dispatchEvent(u),r.state=l.NONE)},r.onContextMenu=function(t){t.preventDefault()},r.domElement.addEventListener("contextmenu",r.onContextMenu,!1),r.domElement.addEventListener("mousedown",r.onMouseDown,!1),r.domElement.addEventListener("wheel",r.onMouseWheel,!1),r.domElement.addEventListener("touchstart",r.onTouchStart,!1),r.domElement.addEventListener("touchend",r.onTouchEnd,!1),r.domElement.addEventListener("touchmove",r.onTouchMove,!1),r.window.addEventListener("keydown",r.onKeyDown,!1),r.update(),r}return Object(r.a)(e,t),Object(o.a)(e,[{key:"update",value:function(){var t=this.object.position;return this.updateOffset.copy(t).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&this.state===l.NONE&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),t.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>1e-6||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(h),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)}},{key:"panLeft",value:function(t,e){this.panLeftV.setFromMatrixColumn(e,0),this.panLeftV.multiplyScalar(-t),this.panOffset.add(this.panLeftV)}},{key:"panUp",value:function(t,e){this.panUpV.setFromMatrixColumn(e,1),this.panUpV.multiplyScalar(t),this.panOffset.add(this.panUpV)}},{key:"pan",value:function(t,e){var n=this.domElement===document?this.domElement.body:this.domElement;if(this.object instanceof d.o){var a=this.object.position;this.panInternalOffset.copy(a).sub(this.target);var o=this.panInternalOffset.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*t*o/n.clientHeight,this.object.matrix),this.panUp(2*e*o/n.clientHeight,this.object.matrix)}else this.object instanceof d.n?(this.panLeft(t*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this.panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}},{key:"dollyIn",value:function(t){this.object instanceof d.o?this.scale/=t:this.object instanceof d.n?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"dollyOut",value:function(t){this.object instanceof d.o?this.scale*=t:this.object instanceof d.n?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"getAutoRotationAngle",value:function(){return 2*Math.PI/60/60*this.autoRotateSpeed}},{key:"getZoomScale",value:function(){return Math.pow(.95,this.zoomSpeed)}},{key:"rotateLeft",value:function(t){this.sphericalDelta.theta-=t}},{key:"rotateUp",value:function(t){this.sphericalDelta.phi-=t}},{key:"getPolarAngle",value:function(){return this.spherical.phi}},{key:"getAzimuthalAngle",value:function(){return this.spherical.theta}},{key:"dispose",value:function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"reset",value:function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(h),this.update(),this.state=l.NONE}},{key:"center",get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},{key:"noZoom",get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}}]),e}(d.g)},305:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(306),o=n(307),i=n(12),s=n(13),r=n(298),d=n(301),l=n(314),h=n.n(l),c=function(){function t(e){var n=this;Object(i.a)(this,t),this._scene=void 0,this._camera=void 0,this._renderer=void 0,this._ambientLight=void 0,this._directionalLight=void 0,this._controls=void 0,this._stats=void 0,this._options=void 0,this._animateSign=void 0,this.onWindowResize=function(){n._camera.aspect=window.innerWidth/window.innerHeight,n._camera.updateProjectionMatrix(),n.render(),n._renderer.setSize(window.innerWidth,window.innerHeight)},this.animate=function(){n.render(),n._animateSign=requestAnimationFrame(n.animate),n._stats.update(),n._controls.update()},this.initObject=function(t){var e;t.mesh instanceof Array?(e=n._scene).add.apply(e,Object(o.a)(t.mesh)):n._scene.add(t.mesh);(t.animate||t.definedAnimate)&&(t.animate&&t.animate(t.mesh),cancelAnimationFrame(n._animateSign),n.animate=function(){t.definedAnimate&&t.definedAnimate({Mesh:t.mesh,Camera:n._camera,Scene:n._scene}),n.render(),n._animateSign=requestAnimationFrame(n.animate),n._stats.update(),n._controls.update(),t.update&&t.update(t.mesh)},n.animate())},this.removeObject=function(t){n._scene.remove(t)},this.destroy=function(){cancelAnimationFrame(n._animateSign)},this._options=e,this._scene=new r.s,this._camera=Object(a.a)(r.o,Object(o.a)(this._options.cameraOption||[45,window.innerWidth/window.innerHeight,.1,2e3])),this._renderer=new r.B(this._options.rendererOption||{}),this._ambientLight=new r.a(this._options.ambientLight||4210752),this._directionalLight=new r.e(this._options.directionalLight||16711680),this._controls=new d.a(this._camera,this._renderer.domElement),this._stats=new h.a,this._animateSign=0,this.init()}return Object(s.a)(t,[{key:"init",value:function(){var t;t=this._options.cameraPosition?this._options.cameraPosition:[-40,40,40],this._camera.position.set(t[0],t[1],t[2]),this._renderer.setClearColor(this._options.rendererColor||2632756),this._renderer.setSize(window.innerWidth,window.innerHeight),this._renderer.setPixelRatio(window.devicePixelRatio),this._options.node.appendChild(this._renderer.domElement),this.initLight(),this.initControls(),this.initStats(),this.animate(),window.onresize=this.onWindowResize}},{key:"initLight",value:function(){this._scene.add(this._ambientLight);var t=this._options.directionalLightPosition||[0,0,1];this._directionalLight.position.set(t[0],t[1],t[2]),this._directionalLight.intensity=this._options.lightIntensity||.6,this._scene.add(this._directionalLight)}},{key:"initControls",value:function(){var t=this._options.controls||{};this._controls.minDistance=t.minDistance||0,this._controls.maxDistance=t.maxDistance||1/0,this._controls.minPolarAngle=t.minPolarAngle||0,this._controls.maxPolarAngle=t.maxPolarAngle||Math.PI,this._controls.enablePan=t.enablePan||!0,this._controls.enableZoom=t.enablePan||!0,this._controls.enableDamping=t.enableDamping||!0,this._controls.dampingFactor=t.dampingFactor||.25,this._controls.autoRotate=t.autoRotate||!1}},{key:"initStats",value:function(){this._stats.showPanel(1),this._options.node.appendChild(this._stats.dom)}},{key:"render",value:function(){this._renderer.render(this._scene,this._camera)}}]),t}()},478:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return randomColor}));var randomColor=function randomColor(){for(var arrHex=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],strHex="0x",index,i=0;i<6;i++)index=Math.round(15*Math.random()),strHex+=arrHex[index];return eval(strHex)}},500:function(t,e,n){"use strict";n.r(e);var a=n(12),o=n(13),i=n(14),s=n(15),r=n(16),d=n(0),l=n.n(d),h=n(507),c=n(328),u=n(298),m=n(477),p=n(478),v=n(305),f=[{text:"\u6b64\u9879\u76ee\u4e3a\u7b80\u5355\u7684\u521b\u5efa\u7269\u4f53",animation:"jiggle"},{text:"\u968f\u673a\u4f4d\u7f6e\u521b\u5efa\u968f\u673a\u5927\u5c0f\u7684\u7403\u4f53",animation:"fade up"},{text:"\u8bd5\u8bd5\u5427",animation:"fade up"}],b=function(t){return l.a.createElement(h.a,{animation:t.animation,duration:t.duration,visible:t.visible},l.a.createElement("p",{className:"text-center"},t.text))},g=function(t){return l.a.createElement(c.a,{inverted:!0,color:"violet",className:"float-button",onClick:function(){return y(t)}},"\u521b\u9020\u4e00\u4e2a\u7403\u4f53")},y=function(t){var e=Object(p.a)(),n=new u.k({color:e,wireframe:!1,wireframeLinewidth:1}),a=new u.t(.5*Math.random(),20,20),o=new u.j(a,n);o.position.set(10*Math.random()-5,10*Math.random()-5,5*Math.random()),o.castShadow=!0,t.canvas.initObject({mesh:o,animate:function(t){new m.a.Tween(t.position).to({z:Math.floor((Math.random()>.5?-10:10)*Math.random())},300).repeat(0).start()},update:function(){m.a.update()}})},E=function(t){function e(){var t,n;Object(a.a)(this,e);for(var o=arguments.length,r=new Array(o),d=0;d<o;d++)r[d]=arguments[d];return(n=Object(i.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={visible:!1,duration:800,text:"",animation:"",index:0,buttonType:"",initCanvas:null},n.readRemarks=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=n.state.duration;t>=f.length?a():n.state.visible?(n.setState({visible:!1,duration:o/2}),setTimeout((function(){return n.readRemarks(t,e,a)}),o/1.5)):(n.setState({visible:!0,text:f[t].text,animation:f[t].animation,index:t,duration:2*o}),setTimeout((function(){return n.readRemarks(t+1,e,a)}),4*o))},n}return Object(r.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=document.getElementById("Sweet-Kingdom");this.readRemarks(0,f,(function(){t.setState({visible:!1});var n={node:e,rendererOption:{antialias:!0},controls:{autoRotate:!0}};setTimeout((function(){var e=new v.a(n);t.setState({buttonType:"grid",initCanvas:e})}),t.state.duration)}))}},{key:"render",value:function(){var t;switch(this.state.buttonType){case"grid":t=l.a.createElement(g,{canvas:this.state.initCanvas});break;default:t=""}return l.a.createElement(l.a.Fragment,null,l.a.createElement(b,this.state),l.a.createElement("div",{id:"Sweet-Kingdom"}),t)}}]),e}(d.Component);e.default=E}}]);
//# sourceMappingURL=13.f9a5f72f.chunk.js.map