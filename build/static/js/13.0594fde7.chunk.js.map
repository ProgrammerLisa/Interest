{"version":3,"sources":["common/orbitControls.ts","../node_modules/process/browser.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","common/initCanvas.ts","../node_modules/@tweenjs/tween.js/dist/tween.esm.js","common/random.ts","views/webgl/T2-CreateObjects.tsx"],"names":["STATE","NONE","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","CHANGE_EVENT","type","START_EVENT","END_EVENT","OrbitControls","object","domElement","domWindow","window","enabled","target","enableZoom","zoomSpeed","minDistance","maxDistance","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableKeys","keys","mouseButtons","enableDamping","dampingFactor","spherical","sphericalDelta","scale","target0","position0","zoom0","state","panOffset","zoomChanged","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","updateLastPosition","updateOffset","updateQuat","updateLastQuaternion","updateQuatInverse","panLeftV","panUpV","panInternalOffset","onContextMenu","onMouseUp","onMouseDown","onMouseMove","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onKeyDown","undefined","document","THREE","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ORBIT","ZOOM","MIDDLE","clone","position","zoom","setFromUnitVectors","up","inverse","event","preventDefault","button","set","clientX","clientY","addEventListener","dispatchEvent","subVectors","element","body","rotateLeft","x","clientWidth","rotateUp","y","clientHeight","copy","update","dollyIn","getZoomScale","dollyOut","pan","removeEventListener","stopPropagation","deltaY","keyCode","touches","length","pageX","pageY","dx","dy","distance","sqrt","this","sub","applyQuaternion","setFromVector3","getAutoRotationAngle","theta","phi","max","min","makeSafe","radius","add","setFromSpherical","lookAt","distanceToSquared","dot","quaternion","objectMatrix","setFromMatrixColumn","multiplyScalar","deltaX","targetDistance","tan","fov","panLeft","matrix","panUp","right","left","top","bottom","console","warn","dollyScale","updateProjectionMatrix","pow","angle","value","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","Parent","Class","Reflect","construct","sham","Proxy","Date","toString","isNativeReflectConstruct","a","instance","Function","bind","setPrototypeOf","_toConsumableArray","arr","isArray","arr2","iter","Symbol","iterator","Object","from","TypeError","Threescene","options","_scene","_camera","_renderer","_ambientLight","_directionalLight","_controls","_stats","_options","_animateSign","onWindowResize","aspect","innerWidth","innerHeight","render","setSize","animate","requestAnimationFrame","initObject","props","mesh","definedAnimate","cancelAnimationFrame","Mesh","Camera","Scene","removeObject","remove","destroy","cameraOption","rendererOption","ambientLight","directionalLight","Stats","init","cameraPosition","setClearColor","rendererColor","setPixelRatio","devicePixelRatio","node","appendChild","initLight","initControls","initStats","onresize","directionalLightPosition","intensity","lightIntensity","defaultOptions","controls","showPanel","dom","_Group","_tweens","_tweensAddedDuringUpdate","getAll","map","tweenId","removeAll","tween","getId","time","preserve","tweenIds","TWEEN","now","_isPlaying","Group","_nextId","nextId","self","hrtime","performance","getTime","Tween","group","_isPaused","_pauseStart","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","isPaused","to","properties","duration","create","d","start","property","parseFloat","stop","stopChainedTweens","end","pause","resume","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","onStart","callback","onUpdate","onRepeat","onComplete","onStop","elapsed","charAt","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","Back","s","Bounce","v","m","f","floor","fn","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","p2","p3","v0","v1","t2","randomColor","arrHex","strHex","index","round","random","eval","remarks","text","animation","Preface","visible","className","CreateGrid","inverted","color","onClick","addGeometry","material","wireframe","wireframeLinewidth","geometry","castShadow","canvas","z","TransitionRemarks","buttonType","initCanvas","readRemarks","setState","ElementNode","getElementById","antialias","InitCanvas","createButton","id","Component"],"mappings":"gMAEMA,EAAQ,CACZC,MAAQ,EACRC,OAAQ,EACRC,MAAO,EACPC,IAAK,EACLC,aAAc,EACdC,YAAa,EACbC,UAAW,GAGPC,EAAe,CAAEC,KAAM,UACvBC,EAAc,CAAED,KAAM,SACtBE,EAAY,CAAEF,KAAM,OAiBbG,EAAb,YAyEE,WAAaC,EAAsBC,EAA0BC,GAAqB,IAAD,8BAC/E,+CAzEFF,YAwEiF,IAvEjFC,gBAuEiF,IAtEjFE,YAsEiF,IAnEjFC,aAmEiF,IAlEjFC,YAkEiF,IAhEjFC,gBAgEiF,IA/DjFC,eA+DiF,IA9DjFC,iBA8DiF,IA7DjFC,iBA6DiF,IA5DjFC,kBA4DiF,IA3DjFC,iBA2DiF,IA1DjFC,eA0DiF,IAzDjFC,iBAyDiF,IAxDjFC,gBAwDiF,IAvDjFC,qBAuDiF,IAtDjFC,aAsDiF,IArDjFC,aAqDiF,IApDjFC,mBAoDiF,IAnDjFC,mBAmDiF,IAlDjFC,qBAkDiF,IAjDjFC,qBAiDiF,IAhDjFC,gBAgDiF,IA/CjFC,UA+CiF,IA9CjFC,kBA8CiF,IA7CjFC,mBA6CiF,IA5CjFC,mBA4CiF,IA1CzEC,eA0CyE,IAzCzEC,oBAyCyE,IAxCzEC,WAwCyE,IAvCzEC,aAuCyE,IAtCzEC,eAsCyE,IArCzEC,WAqCyE,IApCzEC,WAoCyE,IAnCzEC,eAmCyE,IAlCzEC,iBAkCyE,IAhCzEC,iBAgCyE,IA/BzEC,eA+ByE,IA9BzEC,iBA8ByE,IA5BzEC,cA4ByE,IA3BzEC,YA2ByE,IA1BzEC,cA0ByE,IAxBzEC,gBAwByE,IAvBzEC,cAuByE,IAtBzEC,gBAsByE,IApBzEC,wBAoByE,IAnBzEC,kBAmByE,IAlBzEC,gBAkByE,IAjBzEC,0BAiByE,IAhBzEC,uBAgByE,IAdzEC,cAcyE,IAbzEC,YAayE,IAZzEC,uBAYyE,IAVzEC,mBAUyE,IATzEC,eASyE,IARzEC,iBAQyE,IAPzEC,iBAOyE,IANzEC,kBAMyE,IALzEC,kBAKyE,IAJzEC,gBAIyE,IAHzEC,iBAGyE,IAFzEC,eAEyE,EAE/E,EAAK7D,OAASA,EAEd,EAAKC,gBAA8B6D,IAAf7D,EAA6BA,EAAa8D,SAC9D,EAAK5D,YAAyB2D,IAAd5D,EAA4BA,EAAYC,OAGxD,EAAKC,SAAU,EAGf,EAAKC,OAAS,IAAI2D,IAGlB,EAAKxD,YAAc,EACnB,EAAKC,YAAcwD,IAGnB,EAAKjD,QAAU,EACf,EAAKC,QAAUgD,IAIf,EAAK/C,cAAgB,EACrB,EAAKC,cAAgB+C,KAAKC,GAI1B,EAAK/C,iBAAoB6C,IACzB,EAAK5C,gBAAkB4C,IAIvB,EAAKxC,eAAgB,EACrB,EAAKC,cAAgB,IAIrB,EAAKpB,YAAa,EAClB,EAAKC,UAAY,EAGjB,EAAKG,cAAe,EACpB,EAAKC,YAAc,EAGnB,EAAKC,WAAY,EACjB,EAAKC,YAAc,EAInB,EAAKC,YAAa,EAClB,EAAKC,gBAAkB,EAGvB,EAAKO,YAAa,EAGlB,EAAKC,KAAO,CAAE6C,KAAM,GAAIC,GAAI,GAAIC,MAAO,GAAIC,OAAQ,IAGnD,EAAK/C,aAAe,CAAEgD,MAAOR,IAAYI,KAAMK,KAAMT,IAAYU,OAAQnF,IAAKyE,IAAYM,OAG1F,EAAKxC,QAAU,EAAKzB,OAAOsE,QAC3B,EAAK5C,UAAY,EAAK/B,OAAO4E,SAASD,QACtC,EAAK3C,MAAS,EAAKhC,OAAe6E,KAGlC,EAAK/B,aAAe,IAAIkB,IAExB,EAAKjB,YAAa,IAAIiB,KAAmBc,mBAAoB9E,EAAO+E,GAAI,IAAIf,IAAe,EAAG,EAAG,IACjG,EAAKf,kBAAoB,EAAKF,WAAW4B,QAAQK,UACjD,EAAKnC,mBAAqB,IAAImB,IAC9B,EAAKhB,qBAAuB,IAAIgB,IAEhC,EAAK/B,MAAQ9C,EAAMC,KACnB,EAAKyC,MAAQ,EAGb,EAAKF,UAAY,IAAIqC,IACrB,EAAKpC,eAAiB,IAAIoC,IAE1B,EAAK9B,UAAY,IAAI8B,IACrB,EAAK7B,aAAc,EAEnB,EAAKC,YAAc,IAAI4B,IACvB,EAAK3B,UAAY,IAAI2B,IACrB,EAAK1B,YAAc,IAAI0B,IAEvB,EAAKzB,SAAW,IAAIyB,IACpB,EAAKxB,OAAS,IAAIwB,IAClB,EAAKvB,SAAW,IAAIuB,IAEpB,EAAKtB,WAAa,IAAIsB,IACtB,EAAKrB,SAAW,IAAIqB,IACpB,EAAKpB,WAAa,IAAIoB,IAEtB,EAAKd,SAAW,IAAIc,IACpB,EAAKb,OAAS,IAAIa,IAClB,EAAKZ,kBAAoB,IAAIY,IAI7B,EAAKT,YAAc,SAAE0B,GACnB,IAAsB,IAAjB,EAAK7E,QAAV,CAEA,GADA6E,EAAMC,iBACAD,EAAcE,SAAW,EAAK3D,aAAagD,MAAQ,CACvD,IAA2B,IAAtB,EAAK9D,aAAyB,OACnC,EAAK0B,YAAYgD,IAAKH,EAAMI,QAASJ,EAAMK,SAC3C,EAAKrD,MAAQ9C,EAAME,YACd,GAAK4F,EAAME,SAAW,EAAK3D,aAAaiD,KAAO,CACpD,IAAyB,IAApB,EAAKnE,WAAuB,OACjC,EAAKoC,WAAW0C,IAAKH,EAAMI,QAASJ,EAAMK,SAC1C,EAAKrD,MAAQ9C,EAAMG,WACd,GAAK2F,EAAME,SAAW,EAAK3D,aAAajC,IAAM,CACnD,IAAwB,IAAnB,EAAKqB,UAAsB,OAChC,EAAK2B,SAAS6C,IAAKH,EAAMI,QAASJ,EAAMK,SACxC,EAAKrD,MAAQ9C,EAAMI,IAGhB,EAAK0C,QAAU9C,EAAMC,OACxB2E,SAASwB,iBAAkB,YAAa,EAAK/B,aAAa,GAC1DO,SAASwB,iBAAkB,UAAW,EAAKjC,WAAW,GACtD,EAAKkC,cAAe3F,MAIxB,EAAK2D,YAAc,SAAEyB,GAEnB,IAAsB,IAAjB,EAAK7E,QAIV,GAFA6E,EAAMC,iBAED,EAAKjD,QAAU9C,EAAME,OAAS,CACjC,IAA2B,IAAtB,EAAKqB,aAAyB,OACnC,EAAK2B,UAAU+C,IAAKH,EAAMI,QAASJ,EAAMK,SACzC,EAAKhD,YAAYmD,WAAY,EAAKpD,UAAW,EAAKD,aAClD,IAAMsD,EAAU,EAAKzF,aAAe8D,SAAW,EAAK9D,WAAW0F,KAAO,EAAK1F,WAG3E,EAAK2F,WAAY,EAAI1B,KAAKC,GAAK,EAAK7B,YAAYuD,EAAKH,EAAgBI,YAAc,EAAKnF,aAExF,EAAKoF,SAAU,EAAI7B,KAAKC,GAAK,EAAK7B,YAAY0D,EAAKN,EAAgBO,aAAe,EAAKtF,aACvF,EAAKyB,YAAY8D,KAAM,EAAK7D,WAE5B,EAAK8D,cACA,GAAK,EAAKlE,QAAU9C,EAAMG,MAAQ,CAEvC,IAAyB,IAApB,EAAKgB,WAAuB,OAEjC,EAAKqC,SAASyC,IAAKH,EAAMI,QAASJ,EAAMK,SACxC,EAAK1C,WAAW6C,WAAY,EAAK9C,SAAU,EAAKD,YAE3C,EAAKE,WAAWoD,EAAI,EACvB,EAAKI,QAAS,EAAKC,gBACT,EAAKzD,WAAWoD,EAAI,GAC9B,EAAKM,SAAU,EAAKD,gBAGtB,EAAK3D,WAAWwD,KAAM,EAAKvD,UAC3B,EAAKwD,cACA,GAAK,EAAKlE,QAAU9C,EAAMI,IAAM,CAErC,IAAwB,IAAnB,EAAKqB,UAAsB,OAEhC,EAAK4B,OAAO4C,IAAKH,EAAMI,QAASJ,EAAMK,SACtC,EAAK7C,SAASgD,WAAY,EAAKjD,OAAQ,EAAKD,UAC5C,EAAKgE,IAAK,EAAK9D,SAASoD,EAAG,EAAKpD,SAASuD,GACzC,EAAKzD,SAAS2D,KAAM,EAAK1D,QACzB,EAAK2D,WAIT,EAAK7C,UAAY,SAAE2B,IACK,IAAjB,EAAK7E,UACV2D,SAASyC,oBAAqB,YAAa,EAAKhD,aAAa,GAC7DO,SAASyC,oBAAqB,UAAW,EAAKlD,WAAW,GAEzD,EAAKkC,cAAe1F,GACpB,EAAKmC,MAAQ9C,EAAMC,OAGrB,EAAKqE,aAAe,SAAEwB,IAEE,IAAjB,EAAK7E,UAAyC,IAApB,EAAKE,YAA0B,EAAK2B,QAAU9C,EAAMC,MAAQ,EAAK6C,QAAU9C,EAAME,SAEhH4F,EAAMC,iBACND,EAAMwB,kBAEDxB,EAAMyB,OAAS,EAClB,EAAKJ,SAAU,EAAKD,gBACVpB,EAAMyB,OAAS,GACzB,EAAKN,QAAS,EAAKC,gBAGrB,EAAKF,SAEL,EAAKX,cAAe3F,GACpB,EAAK2F,cAAe1F,KAGtB,EAAK+D,UAAY,SAAEoB,GAEjB,IAAsB,IAAjB,EAAK7E,UAAyC,IAApB,EAAKkB,aAA2C,IAAnB,EAAKV,UAEjE,OAASqE,EAAM0B,SAEb,KAAK,EAAKpF,KAAK8C,GACb,EAAKkC,IAAK,EAAG,EAAK1F,aAClB,EAAKsF,SACL,MAEF,KAAK,EAAK5E,KAAKgD,OACb,EAAKgC,IAAK,GAAK,EAAK1F,aACpB,EAAKsF,SACL,MAEF,KAAK,EAAK5E,KAAK6C,KACb,EAAKmC,IAAK,EAAK1F,YAAa,GAC5B,EAAKsF,SACL,MAEF,KAAK,EAAK5E,KAAK+C,MACb,EAAKiC,KAAO,EAAK1F,YAAa,GAC9B,EAAKsF,WAKX,EAAKzC,aAAe,SAAEuB,GAEpB,IAAsB,IAAjB,EAAK7E,QAAV,CAEA,OAAS6E,EAAM2B,QAAQC,QAGrB,KAAK,EACH,IAA2B,IAAtB,EAAKnG,aAAyB,OAEnC,EAAK0B,YAAYgD,IAAKH,EAAM2B,QAAS,GAAIE,MAAO7B,EAAM2B,QAAS,GAAIG,OACnE,EAAK9E,MAAQ9C,EAAMK,aACnB,MAGF,KAAK,EACH,IAAyB,IAApB,EAAKc,WAAuB,OAEjC,IAAI0G,EAAK/B,EAAM2B,QAAS,GAAIE,MAAQ7B,EAAM2B,QAAS,GAAIE,MACnDG,EAAKhC,EAAM2B,QAAS,GAAIG,MAAQ9B,EAAM2B,QAAS,GAAIG,MAEnDG,EAAWhD,KAAKiD,KAAMH,EAAKA,EAAKC,EAAKA,GACzC,EAAKvE,WAAW0C,IAAK,EAAG8B,GACxB,EAAKjF,MAAQ9C,EAAMM,YACnB,MAGF,KAAK,EACH,IAAwB,IAAnB,EAAKmB,UAAsB,OAEhC,EAAK2B,SAAS6C,IAAKH,EAAM2B,QAAS,GAAIE,MAAO7B,EAAM2B,QAAS,GAAIG,OAChE,EAAK9E,MAAQ9C,EAAMO,UACnB,MACF,QACE,EAAKuC,MAAQ9C,EAAMC,KAIlB,EAAK6C,QAAU9C,EAAMC,MACxB,EAAKoG,cAAe3F,KAIxB,EAAK+D,YAAc,SAAEqB,GAEnB,IAAsB,IAAjB,EAAK7E,QAIV,OAHA6E,EAAMC,iBACND,EAAMwB,kBAEGxB,EAAM2B,QAAQC,QAGrB,KAAK,EACH,IAA2B,IAAtB,EAAKnG,aAAyB,OACnC,GAAK,EAAKuB,QAAU9C,EAAMK,aAAe,OAEzC,EAAK6C,UAAU+C,IAAKH,EAAM2B,QAAS,GAAIE,MAAO7B,EAAM2B,QAAS,GAAIG,OACjE,EAAKzE,YAAYmD,WAAY,EAAKpD,UAAW,EAAKD,aAElD,IAAIsD,EAAU,EAAKzF,aAAe8D,SAAW,EAAK9D,WAAW0F,KAAO,EAAK1F,WAGzE,EAAK2F,WAAY,EAAI1B,KAAKC,GAAK,EAAK7B,YAAYuD,EAAKH,EAAgBI,YAAc,EAAKnF,aAGxF,EAAKoF,SAAU,EAAI7B,KAAKC,GAAK,EAAK7B,YAAY0D,EAAKN,EAAgBO,aAAe,EAAKtF,aAEvF,EAAKyB,YAAY8D,KAAM,EAAK7D,WAE5B,EAAK8D,SACL,MAGF,KAAK,EACH,IAAyB,IAApB,EAAK7F,WAAuB,OACjC,GAAK,EAAK2B,QAAU9C,EAAMM,YAAc,OAGxC,IAAIuH,EAAK/B,EAAM2B,QAAS,GAAIE,MAAQ7B,EAAM2B,QAAS,GAAIE,MACnDG,EAAKhC,EAAM2B,QAAS,GAAIG,MAAQ9B,EAAM2B,QAAS,GAAIG,MAEnDG,EAAWhD,KAAKiD,KAAMH,EAAKA,EAAKC,EAAKA,GAEzC,EAAKtE,SAASyC,IAAK,EAAG8B,GAEtB,EAAKtE,WAAW6C,WAAY,EAAK9C,SAAU,EAAKD,YAE3C,EAAKE,WAAWoD,EAAI,EACvB,EAAKM,SAAU,EAAKD,gBACV,EAAKzD,WAAWoD,EAAI,GAC9B,EAAKI,QAAS,EAAKC,gBAGrB,EAAK3D,WAAWwD,KAAM,EAAKvD,UAC3B,EAAKwD,SACL,MAGF,KAAK,EACH,IAAwB,IAAnB,EAAKvF,UAAsB,OAChC,GAAK,EAAKqB,QAAU9C,EAAMO,UAAY,OACtC,EAAK8C,OAAO4C,IAAKH,EAAM2B,QAAS,GAAIE,MAAO7B,EAAM2B,QAAS,GAAIG,OAC9D,EAAKtE,SAASgD,WAAY,EAAKjD,OAAQ,EAAKD,UAC5C,EAAKgE,IAAK,EAAK9D,SAASoD,EAAG,EAAKpD,SAASuD,GACzC,EAAKzD,SAAS2D,KAAM,EAAK1D,QACzB,EAAK2D,SACL,MACF,QACE,EAAKlE,MAAQ9C,EAAMC,OAKzB,EAAKuE,WAAa,SAAEsB,IAEI,IAAjB,EAAK7E,UACV,EAAKoF,cAAe1F,GACpB,EAAKmC,MAAQ9C,EAAMC,OAGrB,EAAKiE,cAAgB,SAAC4B,GACpBA,EAAMC,kBAGR,EAAKjF,WAAWsF,iBAAkB,cAAe,EAAKlC,eAAe,GAErE,EAAKpD,WAAWsF,iBAAkB,YAAa,EAAKhC,aAAa,GACjE,EAAKtD,WAAWsF,iBAAkB,QAAS,EAAK9B,cAAc,GAE9D,EAAKxD,WAAWsF,iBAAkB,aAAc,EAAK7B,cAAc,GACnE,EAAKzD,WAAWsF,iBAAkB,WAAY,EAAK5B,YAAY,GAC/D,EAAK1D,WAAWsF,iBAAkB,YAAa,EAAK3B,aAAa,GAEjE,EAAKzD,OAAOoF,iBAAkB,UAAW,EAAK1B,WAAW,GAGzD,EAAKsC,SA9W0E,EAzEnF,sEA2bI,IAAMvB,EAAWwC,KAAKpH,OAAO4E,SA2D7B,OA1DAwC,KAAKtE,aAAaoD,KAAMtB,GAAWyC,IAAKD,KAAK/G,QAG7C+G,KAAKtE,aAAawE,gBAAiBF,KAAKrE,YAGxCqE,KAAKzF,UAAU4F,eAAgBH,KAAKtE,cAE/BsE,KAAKtG,YAAcsG,KAAKnF,QAAU9C,EAAMC,MAC3CgI,KAAKxB,WAAYwB,KAAKI,wBAGvBJ,KAAKzF,UAAkB8F,OAAUL,KAAKxF,eAAuB6F,MAC7DL,KAAKzF,UAAkB+F,KAAQN,KAAKxF,eAAuB8F,IAG3DN,KAAKzF,UAA2B8F,MAAQvD,KAAKyD,IAAKP,KAAKhG,gBAAiB8C,KAAK0D,IAAKR,KAAK/F,gBAAkB+F,KAAKzF,UAAkB8F,QAGhIL,KAAKzF,UAAkB+F,IAAMxD,KAAKyD,IAAKP,KAAKlG,cAAegD,KAAK0D,IAAKR,KAAKjG,cAAgBiG,KAAKzF,UAAkB+F,MAElHN,KAAKzF,UAAUkG,WAEdT,KAAKzF,UAAkBmG,QAAUV,KAAKvF,MAGtCuF,KAAKzF,UAAkBmG,OAAS5D,KAAKyD,IAAKP,KAAK5G,YAAa0D,KAAK0D,IAAKR,KAAK3G,YAAc2G,KAAKzF,UAAkBmG,SAGjHV,KAAK/G,OAAO0H,IAAKX,KAAKlF,WAEtBkF,KAAKtE,aAAakF,iBAAkBZ,KAAKzF,WAGzCyF,KAAKtE,aAAawE,gBAAiBF,KAAKnE,mBAExC2B,EAASsB,KAAMkB,KAAK/G,QAAS0H,IAAKX,KAAKtE,cAEvCsE,KAAKpH,OAAOiI,OAAQb,KAAK/G,SAEG,IAAvB+G,KAAK3F,eAEP2F,KAAKxF,eAAuB6F,OAAW,EAAIL,KAAK1F,cAChD0F,KAAKxF,eAAuB8F,KAAS,EAAIN,KAAK1F,eAI/C0F,KAAKxF,eAAewD,IAAK,EAAG,EAAG,GAIjCgC,KAAKvF,MAAQ,EACbuF,KAAKlF,UAAUkD,IAAK,EAAG,EAAG,MAMrBgC,KAAKjF,aACRiF,KAAKvE,mBAAmBqF,kBAAmBd,KAAKpH,OAAO4E,UAvgBjD,MAwgBN,GAAM,EAAIwC,KAAKpE,qBAAqBmF,IAAKf,KAAKpH,OAAOoI,aAxgB/C,QA0gBNhB,KAAK5B,cAAe7F,GACpByH,KAAKvE,mBAAmBqD,KAAMkB,KAAKpH,OAAO4E,UAC1CwC,KAAKpE,qBAAqBkD,KAAMkB,KAAKpH,OAAOoI,YAC5ChB,KAAKjF,aAAc,GACZ,KA9fb,8BAmgBW+E,EAAkBmB,GACzBjB,KAAKlE,SAASoF,oBAAqBD,EAAc,GACjDjB,KAAKlE,SAASqF,gBAAkBrB,GAChCE,KAAKlF,UAAU6F,IAAKX,KAAKlE,YAtgB7B,4BAygBSgE,EAAkBmB,GACvBjB,KAAKjE,OAAOmF,oBAAqBD,EAAc,GAC/CjB,KAAKjE,OAAOoF,eAAgBrB,GAC5BE,KAAKlF,UAAU6F,IAAKX,KAAKjE,UA5gB7B,0BAghBOqF,EAAgB9B,GACnB,IAAMhB,EAAU0B,KAAKnH,aAAe8D,SAAWqD,KAAKnH,WAAW0F,KAAOyB,KAAKnH,WAE3E,GAAKmH,KAAKpH,kBAAkBgE,IAA0B,CAEpD,IAAMY,EAAWwC,KAAKpH,OAAO4E,SAC7BwC,KAAKhE,kBAAkB8C,KAAMtB,GAAWyC,IAAKD,KAAK/G,QAClD,IAAIoI,EAAiBrB,KAAKhE,kBAAkByD,SAG5C4B,GAAkBvE,KAAKwE,IAAOtB,KAAKpH,OAAO2I,IAAM,EAAMzE,KAAKC,GAAK,KAGhEiD,KAAKwB,QAAS,EAAIJ,EAASC,EAAkB/C,EAAgBO,aAAcmB,KAAKpH,OAAO6I,QACvFzB,KAAK0B,MAAO,EAAIpC,EAAS+B,EAAkB/C,EAAgBO,aAAcmB,KAAKpH,OAAO6I,aAC3EzB,KAAKpH,kBAAkBgE,KAEjCoD,KAAKwB,QAASJ,GAAWpB,KAAKpH,OAAO+I,MAAQ3B,KAAKpH,OAAOgJ,MAAS5B,KAAKpH,OAAO6E,KAAQa,EAAgBI,YAAasB,KAAKpH,OAAO6I,QAC/HzB,KAAK0B,MAAOpC,GAAWU,KAAKpH,OAAOiJ,IAAM7B,KAAKpH,OAAOkJ,QAAW9B,KAAKpH,OAAO6E,KAAQa,EAAgBO,aAAcmB,KAAKpH,OAAO6I,UAG9HM,QAAQC,KAAM,gFACdhC,KAAKxG,WAAY,KAtiBvB,8BA0iBWyI,GACFjC,KAAKpH,kBAAkBgE,IAC1BoD,KAAKvF,OAASwH,EACJjC,KAAKpH,kBAAkBgE,KACjCoD,KAAKpH,OAAO6E,KAAOX,KAAKyD,IAAKP,KAAKpG,QAASkD,KAAK0D,IAAKR,KAAKnG,QAASmG,KAAKpH,OAAO6E,KAAOwE,IACtFjC,KAAKpH,OAAOsJ,yBACZlC,KAAKjF,aAAc,IAEnBgH,QAAQC,KAAM,uFACdhC,KAAK9G,YAAa,KAnjBxB,+BAujBY+I,GACHjC,KAAKpH,kBAAkBgE,IAC1BoD,KAAKvF,OAASwH,EACJjC,KAAKpH,kBAAkBgE,KACjCoD,KAAKpH,OAAO6E,KAAOX,KAAKyD,IAAKP,KAAKpG,QAASkD,KAAK0D,IAAKR,KAAKnG,QAASmG,KAAKpH,OAAO6E,KAAOwE,IACtFjC,KAAKpH,OAAOsJ,yBACZlC,KAAKjF,aAAc,IAEnBgH,QAAQC,KAAM,uFACdhC,KAAK9G,YAAa,KAhkBxB,6CAqkBI,OAAO,EAAI4D,KAAKC,GAAK,GAAK,GAAKiD,KAAKrG,kBArkBxC,qCAykBI,OAAOmD,KAAKqF,IAAK,IAAMnC,KAAK7G,aAzkBhC,iCA4kBciJ,GACTpC,KAAKxF,eAAuB6F,OAAS+B,IA7kB1C,+BAglBYA,GACPpC,KAAKxF,eAAuB8F,KAAO8B,IAjlBxC,sCAqlBI,OAAQpC,KAAKzF,UAAkB+F,MArlBnC,0CAylBI,OAAQN,KAAKzF,UAAkB8F,QAzlBnC,gCA6lBIL,KAAKnH,WAAWuG,oBAAqB,cAAeY,KAAK/D,eAAe,GACxE+D,KAAKnH,WAAWuG,oBAAqB,YAAaY,KAAK7D,aAAa,GACpE6D,KAAKnH,WAAWuG,oBAAqB,QAASY,KAAK3D,cAAc,GAEjE2D,KAAKnH,WAAWuG,oBAAqB,aAAcY,KAAK1D,cAAc,GACtE0D,KAAKnH,WAAWuG,oBAAqB,WAAYY,KAAKzD,YAAY,GAClEyD,KAAKnH,WAAWuG,oBAAqB,YAAaY,KAAKxD,aAAa,GAEpEG,SAASyC,oBAAqB,YAAaY,KAAK5D,aAAa,GAC7DO,SAASyC,oBAAqB,UAAWY,KAAK9D,WAAW,GAEzD8D,KAAKjH,OAAOqG,oBAAqB,UAAWY,KAAKvD,WAAW,KAxmBhE,8BA6mBIuD,KAAK/G,OAAO6F,KAAMkB,KAAKtF,SACvBsF,KAAKpH,OAAO4E,SAASsB,KAAMkB,KAAKrF,WAC/BqF,KAAKpH,OAAe6E,KAAOuC,KAAKpF,MAEhCoF,KAAKpH,OAAesJ,yBACrBlC,KAAK5B,cAAe7F,GAEpByH,KAAKjB,SAELiB,KAAKnF,MAAQ9C,EAAMC,OAtnBvB,6BA4nBI,OADA+J,QAAQC,KAAK,4DACNhC,KAAK/G,SA5nBhB,6BAgoBI,OADA8I,QAAQC,KAAM,+EACLhC,KAAK9G,YAhoBlB,aAmoBcmJ,GACVN,QAAQC,KAAM,8EACdhC,KAAK9G,YAAemJ,MAroBxB,GAAmCzF,M,kBC9BnC,IAOI0F,EACAC,EARAC,EAAUC,EAAOC,QAAU,GAU/B,SAASC,IACL,MAAM,IAAIC,MAAM,mCAEpB,SAASC,IACL,MAAM,IAAID,MAAM,qCAsBpB,SAASE,EAAWC,GAChB,GAAIT,IAAqBU,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKT,IAAqBK,IAAqBL,IAAqBU,WAEhE,OADAV,EAAmBU,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAOT,EAAiBS,EAAK,GAC/B,MAAME,GACJ,IAEI,OAAOX,EAAiBY,KAAK,KAAMH,EAAK,GAC1C,MAAME,GAEJ,OAAOX,EAAiBY,KAAKlD,KAAM+C,EAAK,MAvCnD,WACG,IAEQT,EADsB,oBAAfU,WACYA,WAEAL,EAEzB,MAAOM,GACLX,EAAmBK,EAEvB,IAEQJ,EADwB,oBAAjBY,aACcA,aAEAN,EAE3B,MAAOI,GACLV,EAAqBM,GAjB5B,GAwED,IAEIO,EAFAC,EAAQ,GACRC,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,GAAW,EACPF,EAAa3D,OACb4D,EAAQD,EAAaK,OAAOJ,GAE5BE,GAAc,EAEdF,EAAM5D,QACNiE,KAIR,SAASA,IACL,IAAIJ,EAAJ,CAGA,IAAIK,EAAUb,EAAWU,GACzBF,GAAW,EAGX,IADA,IAAIM,EAAMP,EAAM5D,OACVmE,GAAK,CAGP,IAFAR,EAAeC,EACfA,EAAQ,KACCE,EAAaK,GACdR,GACAA,EAAaG,GAAYM,MAGjCN,GAAc,EACdK,EAAMP,EAAM5D,OAEhB2D,EAAe,KACfE,GAAW,EAnEf,SAAyBQ,GACrB,GAAIvB,IAAuBY,aAEvB,OAAOA,aAAaW,GAGxB,IAAKvB,IAAuBM,IAAwBN,IAAuBY,aAEvE,OADAZ,EAAqBY,aACdA,aAAaW,GAExB,IAEWvB,EAAmBuB,GAC5B,MAAOb,GACL,IAEI,OAAOV,EAAmBW,KAAK,KAAMY,GACvC,MAAOb,GAGL,OAAOV,EAAmBW,KAAKlD,KAAM8D,KAgD7CC,CAAgBJ,IAiBpB,SAASK,EAAKjB,EAAKkB,GACfjE,KAAK+C,IAAMA,EACX/C,KAAKiE,MAAQA,EAYjB,SAASC,KA5BT1B,EAAQ2B,SAAW,SAAUpB,GACzB,IAAIqB,EAAO,IAAIC,MAAMC,UAAU7E,OAAS,GACxC,GAAI6E,UAAU7E,OAAS,EACnB,IAAK,IAAI8E,EAAI,EAAGA,EAAID,UAAU7E,OAAQ8E,IAClCH,EAAKG,EAAI,GAAKD,UAAUC,GAGhClB,EAAMmB,KAAK,IAAIR,EAAKjB,EAAKqB,IACJ,IAAjBf,EAAM5D,QAAiB6D,GACvBR,EAAWY,IASnBM,EAAKS,UAAUZ,IAAM,WACjB7D,KAAK+C,IAAI2B,MAAM,KAAM1E,KAAKiE,QAE9BzB,EAAQmC,MAAQ,UAChBnC,EAAQoC,SAAU,EAClBpC,EAAQqC,IAAM,GACdrC,EAAQsC,KAAO,GACftC,EAAQuC,QAAU,GAClBvC,EAAQwC,SAAW,GAInBxC,EAAQyC,GAAKf,EACb1B,EAAQ0C,YAAchB,EACtB1B,EAAQ2C,KAAOjB,EACf1B,EAAQ4C,IAAMlB,EACd1B,EAAQ6C,eAAiBnB,EACzB1B,EAAQ8C,mBAAqBpB,EAC7B1B,EAAQ+C,KAAOrB,EACf1B,EAAQgD,gBAAkBtB,EAC1B1B,EAAQiD,oBAAsBvB,EAE9B1B,EAAQkD,UAAY,SAAUC,GAAQ,MAAO,IAE7CnD,EAAQoD,QAAU,SAAUD,GACxB,MAAM,IAAI/C,MAAM,qCAGpBJ,EAAQqD,IAAM,WAAc,MAAO,KACnCrD,EAAQsD,MAAQ,SAAUC,GACtB,MAAM,IAAInD,MAAM,mCAEpBJ,EAAQwD,MAAQ,WAAa,OAAO,I,6CCxKrB,SAAS,EAAWC,EAAQ7B,EAAM8B,GAc/C,OAVE,EAjBJ,WACE,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAK9B,UAAU+B,SAAStD,KAAKiD,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAOtD,GACP,OAAO,GAKLwD,GACWN,QAAQC,UAER,SAAoBH,EAAQ7B,EAAM8B,GAC7C,IAAIQ,EAAI,CAAC,MACTA,EAAElC,KAAKE,MAAMgC,EAAGtC,GAChB,IACIuC,EAAW,IADGC,SAASC,KAAKnC,MAAMuB,EAAQS,IAG9C,OADIR,GAAO,OAAAY,EAAA,GAAeH,EAAUT,EAAMzB,WACnCkC,IAIOjC,MAAM,KAAMJ,WC1BjB,SAASyC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAI3C,MAAM4C,QAAQD,GAAM,CACtB,IAAK,IAAIzC,EAAI,EAAG2C,EAAO,IAAI7C,MAAM2C,EAAIvH,QAAS8E,EAAIyC,EAAIvH,OAAQ8E,IAC5D2C,EAAK3C,GAAKyC,EAAIzC,GAGhB,OAAO2C,GDFF,CAAkBF,IEJZ,SAA0BG,GACvC,GAAIC,OAAOC,YAAYC,OAAOH,IAAkD,uBAAzCG,OAAO7C,UAAU+B,SAAStD,KAAKiE,GAAgC,OAAO9C,MAAMkD,KAAKJ,GFGvF,CAAgBH,IGJpC,WACb,MAAM,IAAIQ,UAAU,mDHGqC,G,8FI+BtCC,E,WAUnB,WAAmBC,GAAsB,IAAD,gCAThCC,YASgC,OARhCC,aAQgC,OAPhCC,eAOgC,OANhCC,mBAMgC,OALhCC,uBAKgC,OAJhCC,eAIgC,OAHhCC,YAGgC,OAFhCC,cAEgC,OADhCC,kBACgC,OAoEhCC,eAAiB,WACvB,EAAKR,QAAQS,OAAStP,OAAOuP,WAAavP,OAAOwP,YACjD,EAAKX,QAAQ1F,yBACb,EAAKsG,SACL,EAAKX,UAAUY,QAAQ1P,OAAOuP,WAAYvP,OAAOwP,cAxEX,KAmFhCG,QAAU,WAChB,EAAKF,SACL,EAAKL,aAAeQ,sBAAsB,EAAKD,SAC/C,EAAKT,OAAOlJ,SACZ,EAAKiJ,UAAUjJ,UAvFuB,KA4FxC6J,WAAa,SAACC,GACsB,IAAD,EAA7BA,EAAMC,gBAAgBzE,OACxB,IAAKsD,QAAOhH,IAAZ,UAAmBkI,EAAMC,OAEzB,EAAKnB,OAAOhH,IAAIkI,EAAMC,OAEpBD,EAAMH,SAAWG,EAAME,kBACrBF,EAAMH,SAASG,EAAMH,QAAQG,EAAMC,MACvCE,qBAAqB,EAAKb,cAC1B,EAAKO,QAAU,WACTG,EAAME,gBAAgBF,EAAME,eAAe,CAAEE,KAAMJ,EAAMC,KAAMI,OAAQ,EAAKtB,QAASuB,MAAO,EAAKxB,SACrG,EAAKa,SACL,EAAKL,aAAeQ,sBAAsB,EAAKD,SAC/C,EAAKT,OAAOlJ,SACZ,EAAKiJ,UAAUjJ,SACX8J,EAAM9J,QAAQ8J,EAAM9J,OAAO8J,EAAMC,OAEvC,EAAKJ,YA7G+B,KAmHxCU,aAAe,SAACN,GACd,EAAKnB,OAAO0B,OAAOP,IApHmB,KAsHxCQ,QAAU,WACRN,qBAAqB,EAAKb,eAtH1BnI,KAAKkI,SAAWR,EAChB1H,KAAK2H,OAAS,IAAI/K,IAClBoD,KAAK4H,QAAL,EAAmBhL,IAAnB,EAA8CoD,KAAKkI,SAASqB,cAAgB,CAAC,GAAIxQ,OAAOuP,WAAavP,OAAOwP,YAAa,GAAK,OAC9HvI,KAAK6H,UAAY,IAAIjL,IAAoBoD,KAAKkI,SAASsB,gBAAkB,IACzExJ,KAAK8H,cAAgB,IAAIlL,IAAmBoD,KAAKkI,SAASuB,cAAgB,SAC1EzJ,KAAK+H,kBAAoB,IAAInL,IAAuBoD,KAAKkI,SAASwB,kBAAoB,UACtF1J,KAAKgI,UAAY,IAAIrP,IAAcqH,KAAK4H,QAAS5H,KAAK6H,UAAUhP,YAChEmH,KAAKiI,OAAS,IAAI0B,IAClB3J,KAAKmI,aAAe,EACpBnI,KAAK4J,O,mDAML,IAAIpM,EAC2BA,EAA/BwC,KAAKkI,SAAS2B,eAA4B7J,KAAKkI,SAAS2B,eAA4B,EAAE,GAAI,GAAI,IAC9F7J,KAAK4H,QAAQpK,SAASQ,IAAIR,EAAS,GAAIA,EAAS,GAAIA,EAAS,IAC7DwC,KAAK6H,UAAUiC,cAAc9J,KAAKkI,SAAS6B,eAAiB,SAC5D/J,KAAK6H,UAAUY,QAAQ1P,OAAOuP,WAAYvP,OAAOwP,aACjDvI,KAAK6H,UAAUmC,cAAcjR,OAAOkR,kBACpCjK,KAAKkI,SAASgC,KAAKC,YAAYnK,KAAK6H,UAAUhP,YAE9CmH,KAAKoK,YACLpK,KAAKqK,eACLrK,KAAKsK,YACLtK,KAAK0I,UACL3P,OAAOwR,SAAWvK,KAAKoI,iB,kCAMvBpI,KAAK2H,OAAOhH,IAAIX,KAAK8H,eACrB,IAAM0C,EAA2BxK,KAAKkI,SAASsC,0BAA4B,CAAC,EAAG,EAAG,GAClFxK,KAAK+H,kBAAkBvK,SAASQ,IAAIwM,EAAyB,GAAIA,EAAyB,GAAIA,EAAyB,IACvHxK,KAAK+H,kBAAkB0C,UAAYzK,KAAKkI,SAASwC,gBAAkB,GACnE1K,KAAK2H,OAAOhH,IAAIX,KAAK+H,qB,qCASrB,IAAM4C,EAAiB3K,KAAKkI,SAAS0C,UAAY,GACjD5K,KAAKgI,UAAU5O,YAAcuR,EAAevR,aAAe,EAC3D4G,KAAKgI,UAAU3O,YAAcsR,EAAetR,aAAewD,IAC3DmD,KAAKgI,UAAUlO,cAAgB6Q,EAAe7Q,eAAiB,EAC/DkG,KAAKgI,UAAUjO,cAAgB4Q,EAAe5Q,eAAiB+C,KAAKC,GACpEiD,KAAKgI,UAAUxO,UAAYmR,EAAenR,YAAa,EACvDwG,KAAKgI,UAAU9O,WAAcyR,EAAenR,YAAa,EACzDwG,KAAKgI,UAAU3N,cAAgBsQ,EAAetQ,gBAAiB,EAC/D2F,KAAKgI,UAAU1N,cAAgBqQ,EAAerQ,eAAiB,IAC/D0F,KAAKgI,UAAUtO,WAAaiR,EAAejR,aAAc,I,kCAMzDsG,KAAKiI,OAAO4C,UAAU,GACtB7K,KAAKkI,SAASgC,KAAKC,YAAYnK,KAAKiI,OAAO6C,O,+BAe3C9K,KAAK6H,UAAUW,OAAOxI,KAAK2H,OAAQ3H,KAAK4H,a,wCC3H5C,gBAYImD,EAAS,WACZ/K,KAAKgL,QAAU,GACfhL,KAAKiL,yBAA2B,IAGjCF,EAAOtG,UAAY,CAClByG,OAAQ,WAEP,OAAO5D,OAAOnN,KAAK6F,KAAKgL,SAASG,IAAI,SAAUC,GAC9C,OAAOpL,KAAKgL,QAAQI,IACnBvE,KAAK7G,QAIRqL,UAAW,WAEVrL,KAAKgL,QAAU,IAIhBrK,IAAK,SAAU2K,GAEdtL,KAAKgL,QAAQM,EAAMC,SAAWD,EAC9BtL,KAAKiL,yBAAyBK,EAAMC,SAAWD,GAIhDjC,OAAQ,SAAUiC,UAEVtL,KAAKgL,QAAQM,EAAMC,gBACnBvL,KAAKiL,yBAAyBK,EAAMC,UAI5CxM,OAAQ,SAAUyM,EAAMC,GAEvB,IAAIC,EAAWpE,OAAOnN,KAAK6F,KAAKgL,SAEhC,GAAwB,IAApBU,EAASjM,OACZ,OAAO,EAUR,IAPA+L,OAAgB9O,IAAT8O,EAAqBA,EAAOG,EAAMC,MAOlCF,EAASjM,OAAS,GAAG,CAC3BO,KAAKiL,yBAA2B,GAEhC,IAAK,IAAI1G,EAAI,EAAGA,EAAImH,EAASjM,OAAQ8E,IAAK,CAEzC,IAAI+G,EAAQtL,KAAKgL,QAAQU,EAASnH,IAE9B+G,IAAgC,IAAvBA,EAAMvM,OAAOyM,KACzBF,EAAMO,YAAa,EAEdJ,UACGzL,KAAKgL,QAAQU,EAASnH,KAKhCmH,EAAWpE,OAAOnN,KAAK6F,KAAKiL,0BAG7B,OAAO,IAKT,IAAIU,EAAQ,IAAIZ,EAEhBY,EAAMG,MAAQf,EACdY,EAAMI,QAAU,EAChBJ,EAAMK,OAAS,WACd,OAAOL,EAAMI,WAMQ,qBAAVE,MAA8C,qBAAbzJ,GAA4BA,EAAQ0J,OAChFP,EAAMC,IAAM,WACX,IAAIJ,EAAOhJ,EAAQ0J,SAGnB,OAAiB,IAAVV,EAAK,GAAYA,EAAK,GAAK,KAIT,qBAAVS,WACavP,IAArBuP,KAAKE,kBACczP,IAAzBuP,KAAKE,YAAYP,IAGnBD,EAAMC,IAAMK,KAAKE,YAAYP,IAAI/E,KAAKoF,KAAKE,kBAGtBzP,IAAb6J,KAAKqF,IACbD,EAAMC,IAAMrF,KAAKqF,IAIjBD,EAAMC,IAAM,WACX,OAAO,IAAIrF,MAAO6F,WAKpBT,EAAMU,MAAQ,SAAUzT,EAAQ0T,GAC/BtM,KAAKuM,WAAY,EACjBvM,KAAKwM,YAAc,KACnBxM,KAAKyM,QAAU7T,EACfoH,KAAK0M,aAAe,GACpB1M,KAAK2M,WAAa,GAClB3M,KAAK4M,mBAAqB,GAC1B5M,KAAK6M,UAAY,IACjB7M,KAAK8M,QAAU,EACf9M,KAAK+M,sBAAmBrQ,EACxBsD,KAAKgN,OAAQ,EACbhN,KAAK6L,YAAa,EAClB7L,KAAKiN,WAAY,EACjBjN,KAAKkN,WAAa,EAClBlN,KAAKmN,WAAa,KAClBnN,KAAKoN,gBAAkBzB,EAAM0B,OAAOC,OAAOC,KAC3CvN,KAAKwN,uBAAyB7B,EAAM8B,cAAcH,OAClDtN,KAAK0N,eAAiB,GACtB1N,KAAK2N,iBAAmB,KACxB3N,KAAK4N,uBAAwB,EAC7B5N,KAAK6N,kBAAoB,KACzB7N,KAAK8N,kBAAoB,KACzB9N,KAAK+N,oBAAsB,KAC3B/N,KAAKgO,gBAAkB,KACvBhO,KAAKiO,OAAS3B,GAASX,EACvB3L,KAAKkO,IAAMvC,EAAMK,UAIlBL,EAAMU,MAAM5H,UAAY,CACvB8G,MAAO,WACN,OAAOvL,KAAKkO,KAGbC,UAAW,WACV,OAAOnO,KAAK6L,YAGbuC,SAAU,WACT,OAAOpO,KAAKuM,WAGb8B,GAAI,SAAUC,EAAYC,GAQzB,OANAvO,KAAK2M,WAAarF,OAAOkH,OAAOF,QAEf5R,IAAb6R,IACHvO,KAAK6M,UAAY0B,GAGXvO,MAIRuO,SAAU,SAAkBE,GAE3B,OADAzO,KAAK6M,UAAY4B,EACVzO,MAGR0O,MAAO,SAAUlD,GAahB,IAAK,IAAImD,KAXT3O,KAAKiO,OAAOtN,IAAIX,MAEhBA,KAAK6L,YAAa,EAElB7L,KAAKuM,WAAY,EAEjBvM,KAAK4N,uBAAwB,EAE7B5N,KAAKmN,gBAAsBzQ,IAAT8O,EAAqC,kBAATA,EAAoBG,EAAMC,MAAQgD,WAAWpD,GAAQA,EAAOG,EAAMC,MAChH5L,KAAKmN,YAAcnN,KAAKkN,WAEHlN,KAAK2M,WAAY,CAGrC,GAAI3M,KAAK2M,WAAWgC,aAAqBtK,MAAO,CAE/C,GAAyC,IAArCrE,KAAK2M,WAAWgC,GAAUlP,OAC7B,SAIDO,KAAK2M,WAAWgC,GAAY,CAAC3O,KAAKyM,QAAQkC,IAAWlL,OAAOzD,KAAK2M,WAAWgC,SAM9CjS,IAA3BsD,KAAKyM,QAAQkC,KAK2B,qBAAjC3O,KAAK0M,aAAaiC,KAC5B3O,KAAK0M,aAAaiC,GAAY3O,KAAKyM,QAAQkC,IAGvC3O,KAAK0M,aAAaiC,aAAqBtK,SAAW,IACtDrE,KAAK0M,aAAaiC,IAAa,GAGhC3O,KAAK4M,mBAAmB+B,GAAY3O,KAAK0M,aAAaiC,IAAa,GAIpE,OAAO3O,MAIR6O,KAAM,WAEL,OAAK7O,KAAK6L,YAIV7L,KAAKiO,OAAO5E,OAAOrJ,MAEnBA,KAAK6L,YAAa,EAElB7L,KAAKuM,WAAY,EAEY,OAAzBvM,KAAKgO,iBACRhO,KAAKgO,gBAAgBhO,KAAKyM,SAG3BzM,KAAK8O,oBACE9O,MAdCA,MAkBT+O,IAAK,WAGJ,OADA/O,KAAKjB,OAAOlC,KACLmD,MAIRgP,MAAO,SAASxD,GAEf,OAAIxL,KAAKuM,YAAcvM,KAAK6L,WACpB7L,MAGRA,KAAKuM,WAAY,EAEjBvM,KAAKwM,iBAAuB9P,IAAT8O,EAAqBG,EAAMC,MAAQJ,EAEtDxL,KAAKiO,OAAO5E,OAAOrJ,MAEZA,OAIRiP,OAAQ,SAASzD,GAEhB,OAAKxL,KAAKuM,WAAcvM,KAAK6L,YAI7B7L,KAAKuM,WAAY,EAEjBvM,KAAKmN,kBAAwBzQ,IAAT8O,EAAqBG,EAAMC,MAAQJ,GACpDxL,KAAKwM,YAERxM,KAAKwM,YAAc,EAEnBxM,KAAKiO,OAAOtN,IAAIX,MAETA,MAZCA,MAgBT8O,kBAAmB,WAElB,IAAK,IAAIvK,EAAI,EAAG2K,EAAmBlP,KAAK0N,eAAejO,OAAQ8E,EAAI2K,EAAkB3K,IACpFvE,KAAK0N,eAAenJ,GAAGsK,QAKzBvC,MAAO,SAAUA,GAEhB,OADAtM,KAAKiO,OAAS3B,EACPtM,MAGRmP,MAAO,SAAUC,GAGhB,OADApP,KAAKkN,WAAakC,EACXpP,MAIRqP,OAAQ,SAAUC,GAGjB,OADAtP,KAAK8M,QAAUwC,EACRtP,MAIRuP,YAAa,SAAUH,GAGtB,OADApP,KAAK+M,iBAAmBqC,EACjBpP,MAIRwP,KAAM,SAAUA,GAGf,OADAxP,KAAKgN,MAAQwC,EACNxP,MAIRyP,OAAQ,SAAUC,GAGjB,OADA1P,KAAKoN,gBAAkBsC,EAChB1P,MAIR2P,cAAe,SAAUC,GAGxB,OADA5P,KAAKwN,uBAAyBoC,EACvB5P,MAIR6P,MAAO,WAGN,OADA7P,KAAK0N,eAAiBpJ,UACftE,MAIR8P,QAAS,SAAUC,GAGlB,OADA/P,KAAK2N,iBAAmBoC,EACjB/P,MAIRgQ,SAAU,SAAUD,GAGnB,OADA/P,KAAK6N,kBAAoBkC,EAClB/P,MAIRiQ,SAAU,SAAkBF,GAG3B,OADA/P,KAAK8N,kBAAoBiC,EAClB/P,MAIRkQ,WAAY,SAAUH,GAGrB,OADA/P,KAAK+N,oBAAsBgC,EACpB/P,MAIRmQ,OAAQ,SAAUJ,GAGjB,OADA/P,KAAKgO,gBAAkB+B,EAChB/P,MAIRjB,OAAQ,SAAUyM,GAEjB,IAAImD,EACAyB,EACA/N,EAEJ,GAAImJ,EAAOxL,KAAKmN,WACf,OAAO,EAiBR,IAAKwB,KAd8B,IAA/B3O,KAAK4N,wBAEsB,OAA1B5N,KAAK2N,kBACR3N,KAAK2N,iBAAiB3N,KAAKyM,SAG5BzM,KAAK4N,uBAAwB,GAG9BwC,GAAW5E,EAAOxL,KAAKmN,YAAcnN,KAAK6M,UAC1CuD,EAA8B,IAAnBpQ,KAAK6M,WAAmBuD,EAAU,EAAK,EAAIA,EAEtD/N,EAAQrC,KAAKoN,gBAAgBgD,GAEZpQ,KAAK2M,WAGrB,QAAoCjQ,IAAhCsD,KAAK0M,aAAaiC,GAAtB,CAIA,IAAID,EAAQ1O,KAAK0M,aAAaiC,IAAa,EACvCI,EAAM/O,KAAK2M,WAAWgC,GAEtBI,aAAe1K,MAElBrE,KAAKyM,QAAQkC,GAAY3O,KAAKwN,uBAAuBuB,EAAK1M,IAKrC,kBAAT0M,IAGVA,EADqB,MAAlBA,EAAIsB,OAAO,IAAgC,MAAlBtB,EAAIsB,OAAO,GACjC3B,EAAQE,WAAWG,GAEnBH,WAAWG,IAKE,kBAATA,IACX/O,KAAKyM,QAAQkC,GAAYD,GAASK,EAAML,GAASrM,IAWpD,GAJ+B,OAA3BrC,KAAK6N,mBACR7N,KAAK6N,kBAAkB7N,KAAKyM,QAAS2D,GAGtB,IAAZA,EAAe,CAElB,GAAIpQ,KAAK8M,QAAU,EAAG,CAOrB,IAAK6B,KALD2B,SAAStQ,KAAK8M,UACjB9M,KAAK8M,UAIW9M,KAAK4M,mBAAoB,CAMzC,GAJ2C,kBAA/B5M,KAAK2M,WAAWgC,KAC3B3O,KAAK4M,mBAAmB+B,GAAY3O,KAAK4M,mBAAmB+B,GAAYC,WAAW5O,KAAK2M,WAAWgC,KAGhG3O,KAAKgN,MAAO,CACf,IAAIuD,EAAMvQ,KAAK4M,mBAAmB+B,GAElC3O,KAAK4M,mBAAmB+B,GAAY3O,KAAK2M,WAAWgC,GACpD3O,KAAK2M,WAAWgC,GAAY4B,EAG7BvQ,KAAK0M,aAAaiC,GAAY3O,KAAK4M,mBAAmB+B,GAkBvD,OAdI3O,KAAKgN,QACRhN,KAAKiN,WAAajN,KAAKiN,gBAGMvQ,IAA1BsD,KAAK+M,iBACR/M,KAAKmN,WAAa3B,EAAOxL,KAAK+M,iBAE9B/M,KAAKmN,WAAa3B,EAAOxL,KAAKkN,WAGA,OAA3BlN,KAAK8N,mBACR9N,KAAK8N,kBAAkB9N,KAAKyM,UAGtB,EAI0B,OAA7BzM,KAAK+N,qBAER/N,KAAK+N,oBAAoB/N,KAAKyM,SAG/B,IAAK,IAAIlI,EAAI,EAAG2K,EAAmBlP,KAAK0N,eAAejO,OAAQ8E,EAAI2K,EAAkB3K,IAGpFvE,KAAK0N,eAAenJ,GAAGmK,MAAM1O,KAAKmN,WAAanN,KAAK6M,WAGrD,OAAO,EAMT,OAAO,IAMTlB,EAAM0B,OAAS,CAEdC,OAAQ,CAEPC,KAAM,SAAUiD,GAEf,OAAOA,IAMTC,UAAW,CAEVC,GAAI,SAAUF,GAEb,OAAOA,EAAIA,GAIZG,IAAK,SAAUH,GAEd,OAAOA,GAAK,EAAIA,IAIjBI,MAAO,SAAUJ,GAEhB,OAAKA,GAAK,GAAK,EACP,GAAMA,EAAIA,GAGT,MAASA,GAAKA,EAAI,GAAK,KAMlCK,MAAO,CAENH,GAAI,SAAUF,GAEb,OAAOA,EAAIA,EAAIA,GAIhBG,IAAK,SAAUH,GAEd,QAASA,EAAIA,EAAIA,EAAI,GAItBI,MAAO,SAAUJ,GAEhB,OAAKA,GAAK,GAAK,EACP,GAAMA,EAAIA,EAAIA,EAGf,KAAQA,GAAK,GAAKA,EAAIA,EAAI,KAMnCM,QAAS,CAERJ,GAAI,SAAUF,GAEb,OAAOA,EAAIA,EAAIA,EAAIA,GAIpBG,IAAK,SAAUH,GAEd,OAAO,KAAOA,EAAIA,EAAIA,EAAIA,GAI3BI,MAAO,SAAUJ,GAEhB,OAAKA,GAAK,GAAK,EACP,GAAMA,EAAIA,EAAIA,EAAIA,GAGjB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAI,KAMzCO,QAAS,CAERL,GAAI,SAAUF,GAEb,OAAOA,EAAIA,EAAIA,EAAIA,EAAIA,GAIxBG,IAAK,SAAUH,GAEd,QAASA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,GAI9BI,MAAO,SAAUJ,GAEhB,OAAKA,GAAK,GAAK,EACP,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EAGvB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,KAM3CQ,WAAY,CAEXN,GAAI,SAAUF,GAEb,OAAO,EAAI1T,KAAKmU,IAAIT,EAAI1T,KAAKC,GAAK,IAInC4T,IAAK,SAAUH,GAEd,OAAO1T,KAAKoU,IAAIV,EAAI1T,KAAKC,GAAK,IAI/B6T,MAAO,SAAUJ,GAEhB,MAAO,IAAO,EAAI1T,KAAKmU,IAAInU,KAAKC,GAAKyT,MAMvCW,YAAa,CAEZT,GAAI,SAAUF,GAEb,OAAa,IAANA,EAAU,EAAI1T,KAAKqF,IAAI,KAAMqO,EAAI,IAIzCG,IAAK,SAAUH,GAEd,OAAa,IAANA,EAAU,EAAI,EAAI1T,KAAKqF,IAAI,GAAK,GAAKqO,IAI7CI,MAAO,SAAUJ,GAEhB,OAAU,IAANA,EACI,EAGE,IAANA,EACI,GAGHA,GAAK,GAAK,EACP,GAAM1T,KAAKqF,IAAI,KAAMqO,EAAI,GAG1B,IAAuC,EAA9B1T,KAAKqF,IAAI,GAAK,IAAMqO,EAAI,OAM1CY,SAAU,CAETV,GAAI,SAAUF,GAEb,OAAO,EAAI1T,KAAKiD,KAAK,EAAIyQ,EAAIA,IAI9BG,IAAK,SAAUH,GAEd,OAAO1T,KAAKiD,KAAK,KAAOyQ,EAAIA,IAI7BI,MAAO,SAAUJ,GAEhB,OAAKA,GAAK,GAAK,GACL,IAAO1T,KAAKiD,KAAK,EAAIyQ,EAAIA,GAAK,GAGjC,IAAO1T,KAAKiD,KAAK,GAAKyQ,GAAK,GAAKA,GAAK,KAM9Ca,QAAS,CAERX,GAAI,SAAUF,GAEb,OAAU,IAANA,EACI,EAGE,IAANA,EACI,GAGA1T,KAAKqF,IAAI,EAAG,IAAMqO,EAAI,IAAM1T,KAAKoU,IAAgB,GAAXV,EAAI,KAAW1T,KAAKC,KAInE4T,IAAK,SAAUH,GAEd,OAAU,IAANA,EACI,EAGE,IAANA,EACI,EAGD1T,KAAKqF,IAAI,GAAI,GAAKqO,GAAK1T,KAAKoU,IAAgB,GAAXV,EAAI,IAAW1T,KAAKC,IAAM,GAInE6T,MAAO,SAAUJ,GAEhB,OAAU,IAANA,EACI,EAGE,IAANA,EACI,GAGRA,GAAK,GAEG,GACC,GAAM1T,KAAKqF,IAAI,EAAG,IAAMqO,EAAI,IAAM1T,KAAKoU,IAAgB,GAAXV,EAAI,KAAW1T,KAAKC,IAGlE,GAAMD,KAAKqF,IAAI,GAAI,IAAMqO,EAAI,IAAM1T,KAAKoU,IAAgB,GAAXV,EAAI,KAAW1T,KAAKC,IAAM,IAMhFuU,KAAM,CAELZ,GAAI,SAAUF,GAEb,IAAIe,EAAI,QAER,OAAOf,EAAIA,IAAMe,EAAI,GAAKf,EAAIe,IAI/BZ,IAAK,SAAUH,GAEd,IAAIe,EAAI,QAER,QAASf,EAAIA,IAAMe,EAAI,GAAKf,EAAIe,GAAK,GAItCX,MAAO,SAAUJ,GAEhB,IAAIe,EAAI,UAER,OAAKf,GAAK,GAAK,EACAA,EAAIA,IAAMe,EAAI,GAAKf,EAAIe,GAA9B,GAGD,KAAQf,GAAK,GAAKA,IAAMe,EAAI,GAAKf,EAAIe,GAAK,KAMnDC,OAAQ,CAEPd,GAAI,SAAUF,GAEb,OAAO,EAAI7E,EAAM0B,OAAOmE,OAAOb,IAAI,EAAIH,IAIxCG,IAAK,SAAUH,GAEd,OAAIA,EAAK,EAAI,KACL,OAASA,EAAIA,EACVA,EAAK,EAAI,KACZ,QAAUA,GAAM,IAAM,MAASA,EAAI,IAChCA,EAAK,IAAM,KACd,QAAUA,GAAM,KAAO,MAASA,EAAI,MAEpC,QAAUA,GAAM,MAAQ,MAASA,EAAI,SAK9CI,MAAO,SAAUJ,GAEhB,OAAIA,EAAI,GACgC,GAAhC7E,EAAM0B,OAAOmE,OAAOd,GAAO,EAAJF,GAGa,GAArC7E,EAAM0B,OAAOmE,OAAOb,IAAQ,EAAJH,EAAQ,GAAW,MAQrD7E,EAAM8B,cAAgB,CAErBH,OAAQ,SAAUmE,EAAGjB,GAEpB,IAAIkB,EAAID,EAAEhS,OAAS,EACfkS,EAAID,EAAIlB,EACRjM,EAAIzH,KAAK8U,MAAMD,GACfE,EAAKlG,EAAM8B,cAAcqE,MAAMxE,OAEnC,OAAIkD,EAAI,EACAqB,EAAGJ,EAAE,GAAIA,EAAE,GAAIE,GAGnBnB,EAAI,EACAqB,EAAGJ,EAAEC,GAAID,EAAEC,EAAI,GAAIA,EAAIC,GAGxBE,EAAGJ,EAAElN,GAAIkN,EAAElN,EAAI,EAAImN,EAAIA,EAAInN,EAAI,GAAIoN,EAAIpN,IAI/CwN,OAAQ,SAAUN,EAAGjB,GAOpB,IALA,IAAIwB,EAAI,EACJC,EAAIR,EAAEhS,OAAS,EACfyS,EAAKpV,KAAKqF,IACVgQ,EAAKxG,EAAM8B,cAAcqE,MAAMM,UAE1B7N,EAAI,EAAGA,GAAK0N,EAAG1N,IACvByN,GAAKE,EAAG,EAAI1B,EAAGyB,EAAI1N,GAAK2N,EAAG1B,EAAGjM,GAAKkN,EAAElN,GAAK4N,EAAGF,EAAG1N,GAGjD,OAAOyN,GAIRK,WAAY,SAAUZ,EAAGjB,GAExB,IAAIkB,EAAID,EAAEhS,OAAS,EACfkS,EAAID,EAAIlB,EACRjM,EAAIzH,KAAK8U,MAAMD,GACfE,EAAKlG,EAAM8B,cAAcqE,MAAMO,WAEnC,OAAIZ,EAAE,KAAOA,EAAEC,IAEVlB,EAAI,IACPjM,EAAIzH,KAAK8U,MAAMD,EAAID,GAAK,EAAIlB,KAGtBqB,EAAGJ,GAAGlN,EAAI,EAAImN,GAAKA,GAAID,EAAElN,GAAIkN,GAAGlN,EAAI,GAAKmN,GAAID,GAAGlN,EAAI,GAAKmN,GAAIC,EAAIpN,IAIpEiM,EAAI,EACAiB,EAAE,IAAMI,EAAGJ,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAKE,GAAKF,EAAE,IAG/CjB,EAAI,EACAiB,EAAEC,IAAMG,EAAGJ,EAAEC,GAAID,EAAEC,GAAID,EAAEC,EAAI,GAAID,EAAEC,EAAI,GAAIC,EAAID,GAAKD,EAAEC,IAGvDG,EAAGJ,EAAElN,EAAIA,EAAI,EAAI,GAAIkN,EAAElN,GAAIkN,EAAEC,EAAInN,EAAI,EAAImN,EAAInN,EAAI,GAAIkN,EAAEC,EAAInN,EAAI,EAAImN,EAAInN,EAAI,GAAIoN,EAAIpN,IAM5FuN,MAAO,CAENxE,OAAQ,SAAUgF,EAAIC,EAAIC,GAEzB,OAAQD,EAAKD,GAAME,EAAIF,GAIxBF,UAAW,SAAUH,EAAG1N,GAEvB,IAAIkO,EAAK9G,EAAM8B,cAAcqE,MAAMY,UAEnC,OAAOD,EAAGR,GAAKQ,EAAGlO,GAAKkO,EAAGR,EAAI1N,IAI/BmO,UAAY,WAEX,IAAIhM,EAAI,CAAC,GAET,OAAO,SAAUuL,GAEhB,IAAIV,EAAI,EAER,GAAI7K,EAAEuL,GACL,OAAOvL,EAAEuL,GAGV,IAAK,IAAI1N,EAAI0N,EAAG1N,EAAI,EAAGA,IACtBgN,GAAKhN,EAIN,OADAmC,EAAEuL,GAAKV,EACAA,GAjBG,GAuBZc,WAAY,SAAUC,EAAIC,EAAII,EAAIC,EAAIJ,GAErC,IAAIK,EAAiB,IAAXF,EAAKL,GACXQ,EAAiB,IAAXF,EAAKL,GACXQ,EAAKP,EAAIA,EAGb,OAAQ,EAAID,EAAK,EAAII,EAAKE,EAAKC,IAFtBN,EAAIO,KAEgC,EAAIR,EAAK,EAAII,EAAK,EAAIE,EAAKC,GAAMC,EAAKF,EAAKL,EAAID,KAO/F5G,EAAM5G,QAj8BQ,SAm8BC4G,Q,6FCn8Bf,gFAGO,IAAMqH,YAAc,SAAdA,cAIX,IAHA,IAAIC,OAAS,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACvFC,OAAS,KACTC,MACO5O,EAAI,EAAGA,EAAI,EAAGA,IACrB4O,MAAQrW,KAAKsW,MAAsB,GAAhBtW,KAAKuW,UACxBH,QAAUD,OAAOE,OAGnB,OAAOG,KAAKJ,U,0JCQRK,EAAyB,CAC7B,CAAEC,KAAM,qEAAeC,UAAW,UAClC,CAAED,KAAM,iFAAiBC,UAAW,WACpC,CAAED,KAAM,qBAAOC,UAAW,YAGtBC,EAAU,SAAC7K,GACf,OACE,kBAAC,IAAD,CACE4K,UAAW5K,EAAM4K,UACjBlF,SAAU1F,EAAM0F,SAChBoF,QAAS9K,EAAM8K,SAEf,uBAAGC,UAAU,eAAe/K,EAAM2K,QAKlCK,EAAa,SAAChL,GAClB,OAAQ,kBAAC,IAAD,CAAQiL,UAAQ,EAACC,MAAM,SAASH,UAAU,eAAeI,QAAS,kBAAMC,EAAYpL,KAApF,yCAGJoL,EAAc,SAACpL,GACnB,IAAMkL,EAAQf,cACRkB,EAAW,IAAItX,IAAwB,CAC3CmX,MAAOA,EACPI,WAAW,EACXC,mBAAoB,IAKhBC,EAAW,IAAIzX,IAAqC,GAAhBE,KAAKuW,SAAgB,GAAI,IAC7DvK,EAAO,IAAIlM,IAAWyX,EAAUH,GACtCpL,EAAKtL,SAASQ,IAAoB,GAAhBlB,KAAKuW,SAAgB,EAAmB,GAAhBvW,KAAKuW,SAAgB,EAAmB,EAAhBvW,KAAKuW,UACvEvK,EAAKwL,YAAa,EAClBzL,EAAM0L,OAAO3L,WAAW,CACtBE,KAAMA,EACNJ,QAAS,SAACO,GACR,IAAI0C,IAAMU,MAAMpD,EAAKzL,UAAU6Q,GAAG,CAAEmG,EAAG1X,KAAK8U,OAAO9U,KAAKuW,SAAW,IAAO,GAAK,IAAMvW,KAAKuW,WAAa,KAAKhE,OAAO,GAAGX,SAExH3P,OAAQ,WACN4M,IAAM5M,aAKN0V,E,2MACJ5Z,MAAQ,CAAE8Y,SAAS,EAAOpF,SAAU,IAAKiF,KAAM,GAAIC,UAAW,GAAIN,MAAO,EAAGuB,WAAY,GAAIC,WAAY,M,EAsBxGC,YAAc,WAAwD,IAAvDzB,EAAsD,uDAA9C,EAAGnM,EAA2C,uCAAvB+I,EAAuB,uCAC7DvE,EAAO,EAAK3Q,MAAM0T,SACpB4E,GAASI,EAAQ9T,OACnBsQ,IAEI,EAAKlV,MAAM8Y,SACb,EAAKkB,SAAS,CACZlB,SAAS,EACTpF,SAAU/C,EAAO,IAEnBxI,YAAW,WACT,OAAO,EAAK4R,YAAYzB,EAAOnM,EAAK+I,KACnCvE,EAAO,OAEV,EAAKqJ,SAAS,CACZlB,SAAS,EACTH,KAAMD,EAAQJ,GAAOK,KACrBC,UAAWF,EAAQJ,GAAOM,UAC1BN,MAAOA,EACP5E,SAAiB,EAAP/C,IAEZxI,YAAW,WACT,OAAO,EAAK4R,YAAYzB,EAAQ,EAAGnM,EAAK+I,KAChC,EAAPvE,K,mFA5CY,IAAD,OACZsJ,EAAmBnY,SAASoY,eAAe,oBACjD/U,KAAK4U,YAAY,EAAGrB,GAAS,WAC3B,EAAKsB,SAAS,CAAElB,SAAS,IACzB,IAAMjM,EAAU,CACdwC,KAAM4K,EACNtL,eAAgB,CAAEwL,WAAW,GAC7BpK,SAAU,CACRlR,YAAY,IAGhBsJ,YAAW,WACT,IAAM2R,EAAa,IAAIM,IAAWvN,GAClC,EAAKmN,SAAS,CACZH,WAAY,OACZC,WAAYA,MAEb,EAAK9Z,MAAM0T,e,+BAgCR,IAEJ2G,EACJ,OAFuBlV,KAAKnF,MAApB6Z,YAGN,IAAK,OACHQ,EAAgB,kBAACrB,EAAD,CAAYU,OAAQvU,KAAKnF,MAAM8Z,aAC/C,MACF,QACEO,EAAe,GAEnB,OACE,oCACE,kBAACxB,EAAY1T,KAAKnF,OAClB,yBAAKsa,GAAG,qBACPD,O,GAjEuBE,aAuEjBX","file":"static/js/13.0594fde7.chunk.js","sourcesContent":["import * as THREE from 'three';\n\nconst STATE = {\n  NONE: - 1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  TOUCH_ROTATE: 3,\n  TOUCH_DOLLY: 4,\n  TOUCH_PAN: 5\n};\n\nconst CHANGE_EVENT = { type: 'change' };\nconst START_EVENT = { type: 'start' };\nconst END_EVENT = { type: 'end' };\nconst EPS = 0.000001;\n\n/**\n* @author qiao / https://github.com/qiao\n* @author mrdoob / http://mrdoob.com\n* @author alteredq / http://alteredqualia.com/\n* @author WestLangley / http://github.com/WestLangley\n* @author erich666 / http://erichaines.com\n* @author nicolaspanel / http://github.com/nicolaspanel\n*\n* This set of controls performs orbiting, dollying (zooming), and panning.\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n*    Orbit - left mouse / touch: one finger move\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\n*/\nexport class OrbitControls extends THREE.EventDispatcher {\n  object: THREE.Camera;\n  domElement: HTMLElement | HTMLDocument;\n  window: Window;\n\n  // API\n  enabled: boolean;\n  target: THREE.Vector3;\n\n  enableZoom: boolean;\n  zoomSpeed: number;\n  minDistance: number;\n  maxDistance: number;\n  enableRotate: boolean;\n  rotateSpeed: number;\n  enablePan: boolean;\n  keyPanSpeed: number;\n  autoRotate: boolean;\n  autoRotateSpeed: number;\n  minZoom: number;\n  maxZoom: number;\n  minPolarAngle: number;\n  maxPolarAngle: number;\n  minAzimuthAngle: number;\n  maxAzimuthAngle: number;\n  enableKeys: boolean;\n  keys: { LEFT: number; UP: number; RIGHT: number; BOTTOM: number; };\n  mouseButtons: { ORBIT: THREE.MOUSE; ZOOM: THREE.MOUSE; PAN: THREE.MOUSE; };\n  enableDamping: boolean;\n  dampingFactor: number;\n\n  private spherical: THREE.Spherical;\n  private sphericalDelta: THREE.Spherical;\n  private scale: number;\n  private target0: THREE.Vector3;\n  private position0: THREE.Vector3;\n  private zoom0: any;\n  private state: number;\n  private panOffset: THREE.Vector3;\n  private zoomChanged: boolean;\n\n  private rotateStart: THREE.Vector2;\n  private rotateEnd: THREE.Vector2;\n  private rotateDelta: THREE.Vector2\n\n  private panStart: THREE.Vector2;\n  private panEnd: THREE.Vector2;\n  private panDelta: THREE.Vector2;\n\n  private dollyStart: THREE.Vector2;\n  private dollyEnd: THREE.Vector2;\n  private dollyDelta: THREE.Vector2;\n\n  private updateLastPosition: THREE.Vector3;\n  private updateOffset: THREE.Vector3;\n  private updateQuat: THREE.Quaternion;\n  private updateLastQuaternion: THREE.Quaternion;\n  private updateQuatInverse: THREE.Quaternion;\n\n  private panLeftV: THREE.Vector3;\n  private panUpV: THREE.Vector3;\n  private panInternalOffset: THREE.Vector3;\n\n  private onContextMenu: EventListener;\n  private onMouseUp: EventListener;\n  private onMouseDown: EventListener;\n  private onMouseMove: EventListener;\n  private onMouseWheel: EventListener;\n  private onTouchStart: EventListener;\n  private onTouchEnd: EventListener;\n  private onTouchMove: EventListener;\n  private onKeyDown: EventListener;\n\n  constructor (object: THREE.Camera, domElement?: HTMLElement, domWindow?: Window) {\n    super();\n    this.object = object;\n\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n    this.window = ( domWindow !== undefined ) ? domWindow : window;\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    // \"target\" sets the location of focus, where the object orbits around\n    this.target = new THREE.Vector3();\n\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // How far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    this.minAzimuthAngle = - Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    this.enableDamping = false;\n    this.dampingFactor = 0.25;\n\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0;\n\n    // Set to false to disable rotating\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0;\n\n    // Set to false to disable panning\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    // Set to false to disable use of the keys\n    this.enableKeys = true;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n    // for reset\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = (this.object as any).zoom;\n\n    // for update speedup\n    this.updateOffset = new THREE.Vector3();\n    // so camera.up is the orbit axis\n    this.updateQuat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    this.updateQuatInverse = this.updateQuat.clone().inverse();\n    this.updateLastPosition = new THREE.Vector3();\n    this.updateLastQuaternion = new THREE.Quaternion();\n\n    this.state = STATE.NONE;\n    this.scale = 1;\n\n    // current position in spherical coordinates\n    this.spherical = new THREE.Spherical();\n    this.sphericalDelta = new THREE.Spherical();\n\n    this.panOffset = new THREE.Vector3();\n    this.zoomChanged = false;\n\n    this.rotateStart = new THREE.Vector2();\n    this.rotateEnd = new THREE.Vector2();\n    this.rotateDelta = new THREE.Vector2();\n\n    this.panStart = new THREE.Vector2();\n    this.panEnd = new THREE.Vector2();\n    this.panDelta = new THREE.Vector2();\n\n    this.dollyStart = new THREE.Vector2();\n    this.dollyEnd = new THREE.Vector2();\n    this.dollyDelta = new THREE.Vector2();\n\n    this.panLeftV = new THREE.Vector3();\n    this.panUpV = new THREE.Vector3();\n    this.panInternalOffset = new THREE.Vector3();\n\n    // event handlers - FSM: listen for events and reset state\n\n    this.onMouseDown = ( event: any ) => {\n      if ( this.enabled === false ) return;\n      event.preventDefault();\n      if ( (event as any).button === this.mouseButtons.ORBIT ) {\n        if ( this.enableRotate === false ) return;\n        this.rotateStart.set( event.clientX, event.clientY );\n        this.state = STATE.ROTATE;\n      } else if ( event.button === this.mouseButtons.ZOOM ) {\n        if ( this.enableZoom === false ) return;\n        this.dollyStart.set( event.clientX, event.clientY );\n        this.state = STATE.DOLLY;\n      } else if ( event.button === this.mouseButtons.PAN ) {\n        if ( this.enablePan === false ) return;\n        this.panStart.set( event.clientX, event.clientY );\n        this.state = STATE.PAN;\n      }\n\n      if ( this.state !== STATE.NONE ) {\n        document.addEventListener( 'mousemove', this.onMouseMove, false );\n        document.addEventListener( 'mouseup', this.onMouseUp, false );\n        this.dispatchEvent( START_EVENT );\n      }\n    };\n\n    this.onMouseMove = ( event: any ) => {\n\n      if ( this.enabled === false ) return;\n\n      event.preventDefault();\n\n      if ( this.state === STATE.ROTATE ) {\n        if ( this.enableRotate === false ) return;\n        this.rotateEnd.set( event.clientX, event.clientY );\n        this.rotateDelta.subVectors( this.rotateEnd, this.rotateStart );\n        const element = this.domElement === document ? this.domElement.body : this.domElement;\n\n        // rotating across whole screen goes 360 degrees around\n        this.rotateLeft( 2 * Math.PI * this.rotateDelta.x / (element as any).clientWidth * this.rotateSpeed );\n        // rotating up and down along whole screen attempts to go 360, but limited to 180\n        this.rotateUp( 2 * Math.PI * this.rotateDelta.y / (element as any).clientHeight * this.rotateSpeed );\n        this.rotateStart.copy( this.rotateEnd );\n\n        this.update();\n      } else if ( this.state === STATE.DOLLY ) {\n\n        if ( this.enableZoom === false ) return;\n\n        this.dollyEnd.set( event.clientX, event.clientY );\n        this.dollyDelta.subVectors( this.dollyEnd, this.dollyStart );\n\n        if ( this.dollyDelta.y > 0 ) {\n          this.dollyIn( this.getZoomScale() );\n        } else if ( this.dollyDelta.y < 0 ) {\n          this.dollyOut( this.getZoomScale() );\n        }\n\n        this.dollyStart.copy( this.dollyEnd );\n        this.update();\n      } else if ( this.state === STATE.PAN ) {\n\n        if ( this.enablePan === false ) return;\n\n        this.panEnd.set( event.clientX, event.clientY );\n        this.panDelta.subVectors( this.panEnd, this.panStart );\n        this.pan( this.panDelta.x, this.panDelta.y );\n        this.panStart.copy( this.panEnd );\n        this.update();\n      }\n    }\n\n    this.onMouseUp = ( event: any ) => {\n      if ( this.enabled === false ) return;\n      document.removeEventListener( 'mousemove', this.onMouseMove, false );\n      document.removeEventListener( 'mouseup', this.onMouseUp, false );\n\n      this.dispatchEvent( END_EVENT );\n      this.state = STATE.NONE;\n    };\n\n    this.onMouseWheel = ( event: any ) => {\n\n      if ( this.enabled === false || this.enableZoom === false || ( this.state !== STATE.NONE && this.state !== STATE.ROTATE ) ) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if ( event.deltaY < 0 ) {\n        this.dollyOut( this.getZoomScale() );\n      } else if ( event.deltaY > 0 ) {\n        this.dollyIn( this.getZoomScale() );\n      }\n\n      this.update();\n\n      this.dispatchEvent( START_EVENT ); // not sure why these are here...\n      this.dispatchEvent( END_EVENT );\n    };\n\n    this.onKeyDown = ( event: any ) => {\n\n      if ( this.enabled === false || this.enableKeys === false || this.enablePan === false ) return;\n\n      switch ( event.keyCode ) {\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.UP: {\n          this.pan( 0, this.keyPanSpeed );\n          this.update();\n        } break;\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.BOTTOM: {\n          this.pan( 0, - this.keyPanSpeed );\n          this.update();\n        } break;\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.LEFT: {\n          this.pan( this.keyPanSpeed, 0 );\n          this.update();\n        } break;\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.RIGHT: {\n          this.pan( - this.keyPanSpeed, 0 );\n          this.update();\n        } break;\n      }\n    };\n\n    this.onTouchStart = ( event: any ) => {\n\n      if ( this.enabled === false ) return;\n\n      switch ( event.touches.length ) {\n        // one-fingered touch: rotate\n        // eslint-disable-next-line no-lone-blocks\n        case 1: {\n          if ( this.enableRotate === false ) return;\n\n          this.rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.state = STATE.TOUCH_ROTATE;\n        } break;\n        // two-fingered touch: dolly\n        // eslint-disable-next-line no-lone-blocks\n        case 2:\t{\n          if ( this.enableZoom === false ) return;\n\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n          var distance = Math.sqrt( dx * dx + dy * dy );\n          this.dollyStart.set( 0, distance );\n          this.state = STATE.TOUCH_DOLLY;\n        } break;\n        // three-fingered touch: pan\n        // eslint-disable-next-line no-lone-blocks\n        case 3: {\n          if ( this.enablePan === false ) return;\n\n          this.panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.state = STATE.TOUCH_PAN;\n        } break;\n        default: {\n          this.state = STATE.NONE;\n        }\n      }\n\n      if ( this.state !== STATE.NONE ) {\n        this.dispatchEvent( START_EVENT );\n      }\n    };\n\n    this.onTouchMove = ( event: any ) => {\n\n      if ( this.enabled === false ) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch ( event.touches.length ) {\n        // one-fingered touch: rotate\n        // eslint-disable-next-line no-lone-blocks\n        case 1: {\n          if ( this.enableRotate === false ) return;\n          if ( this.state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n          this.rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.rotateDelta.subVectors( this.rotateEnd, this.rotateStart );\n\n          var element = this.domElement === document ? this.domElement.body : this.domElement;\n\n          // rotating across whole screen goes 360 degrees around\n          this.rotateLeft( 2 * Math.PI * this.rotateDelta.x / (element as any).clientWidth * this.rotateSpeed );\n\n          // rotating up and down along whole screen attempts to go 360, but limited to 180\n          this.rotateUp( 2 * Math.PI * this.rotateDelta.y / (element as any).clientHeight * this.rotateSpeed );\n\n          this.rotateStart.copy( this.rotateEnd );\n\n          this.update();\n        } break;\n        // two-fingered touch: dolly\n        // eslint-disable-next-line no-lone-blocks\n        case 2: {\n          if ( this.enableZoom === false ) return;\n          if ( this.state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n          //console.log( 'handleTouchMoveDolly' );\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n          var distance = Math.sqrt( dx * dx + dy * dy );\n\n          this.dollyEnd.set( 0, distance );\n\n          this.dollyDelta.subVectors( this.dollyEnd, this.dollyStart );\n\n          if ( this.dollyDelta.y > 0 ) {\n            this.dollyOut( this.getZoomScale() );\n          } else if ( this.dollyDelta.y < 0 ) {\n            this.dollyIn( this.getZoomScale() );\n          }\n\n          this.dollyStart.copy( this.dollyEnd );\n          this.update();\n        } break;\n        // three-fingered touch: pan\n        // eslint-disable-next-line no-lone-blocks\n        case 3: {\n          if ( this.enablePan === false ) return;\n          if ( this.state !== STATE.TOUCH_PAN ) return; // is this needed?...\n          this.panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.panDelta.subVectors( this.panEnd, this.panStart );\n          this.pan( this.panDelta.x, this.panDelta.y );\n          this.panStart.copy( this.panEnd );\n          this.update();\n        } break;\n        default: {\n          this.state = STATE.NONE;\n        }\n      }\n    };\n\n    this.onTouchEnd = ( event: Event ) => {\n\n      if ( this.enabled === false ) return;\n      this.dispatchEvent( END_EVENT );\n      this.state = STATE.NONE;\n    }\n\n    this.onContextMenu = (event) => {\n      event.preventDefault();\n    };\n\n    this.domElement.addEventListener( 'contextmenu', this.onContextMenu, false );\n\n    this.domElement.addEventListener( 'mousedown', this.onMouseDown, false );\n    this.domElement.addEventListener( 'wheel', this.onMouseWheel, false );\n\n    this.domElement.addEventListener( 'touchstart', this.onTouchStart, false );\n    this.domElement.addEventListener( 'touchend', this.onTouchEnd, false );\n    this.domElement.addEventListener( 'touchmove', this.onTouchMove, false );\n\n    this.window.addEventListener( 'keydown', this.onKeyDown, false );\n\n    // force an update at start\n    this.update();\n  }\n\n  update () {\n    const position = this.object.position;\n    this.updateOffset.copy( position ).sub( this.target );\n\n    // rotate offset to \"y-axis-is-up\" space\n    this.updateOffset.applyQuaternion( this.updateQuat );\n\n    // angle from z-axis around y-axis\n    this.spherical.setFromVector3( this.updateOffset );\n\n    if ( this.autoRotate && this.state === STATE.NONE ) {\n      this.rotateLeft( this.getAutoRotationAngle() );\n    }\n\n    (this.spherical as any).theta += (this.sphericalDelta as any).theta;\n    (this.spherical as any).phi += (this.sphericalDelta as any).phi;\n\n    // restrict theta to be between desired limits\n    (this.spherical as (any) as any).theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, (this.spherical as any).theta ) );\n\n    // restrict phi to be between desired limits\n    (this.spherical as any).phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, (this.spherical as any).phi ) );\n\n    this.spherical.makeSafe();\n\n    (this.spherical as any).radius *= this.scale;\n\n    // restrict radius to be between desired limits\n    (this.spherical as any).radius = Math.max( this.minDistance, Math.min( this.maxDistance, (this.spherical as any).radius ) );\n\n    // move target to panned location\n    this.target.add( this.panOffset );\n\n    this.updateOffset.setFromSpherical( this.spherical );\n\n    // rotate offset back to \"camera-up-vector-is-up\" space\n    this.updateOffset.applyQuaternion( this.updateQuatInverse );\n\n    position.copy( this.target ).add( this.updateOffset );\n\n    this.object.lookAt( this.target );\n\n    if ( this.enableDamping === true ) {\n\n      (this.sphericalDelta as any).theta *= ( 1 - this.dampingFactor );\n      (this.sphericalDelta as any).phi *= ( 1 - this.dampingFactor );\n\n    } else {\n\n      this.sphericalDelta.set( 0, 0, 0 );\n\n    }\n\n    this.scale = 1;\n    this.panOffset.set( 0, 0, 0 );\n\n    // update condition is:\n    // min(camera displacement, camera rotation in radians)^2 > EPS\n    // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n    if ( this.zoomChanged ||\n      this.updateLastPosition.distanceToSquared( this.object.position ) > EPS ||\n      8 * ( 1 - this.updateLastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\n      this.dispatchEvent( CHANGE_EVENT );\n      this.updateLastPosition.copy( this.object.position );\n      this.updateLastQuaternion.copy( this.object.quaternion );\n      this.zoomChanged = false;\n      return true;\n    }\n    return false;\n  }\n\n  panLeft( distance: number, objectMatrix: any ) {\n    this.panLeftV.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n    this.panLeftV.multiplyScalar( - distance );\n    this.panOffset.add( this.panLeftV );\n  }\n\n  panUp( distance: number, objectMatrix: any ) {\n    this.panUpV.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n    this.panUpV.multiplyScalar( distance );\n    this.panOffset.add( this.panUpV );\n  }\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  pan( deltaX: number, deltaY: number ) {\n    const element = this.domElement === document ? this.domElement.body : this.domElement;\n\n    if ( this.object instanceof THREE.PerspectiveCamera ) {\n      // perspective\n      const position = this.object.position;\n      this.panInternalOffset.copy( position ).sub( this.target );\n      var targetDistance = this.panInternalOffset.length();\n\n      // half of the fov is center to top of screen\n      targetDistance *= Math.tan( ( this.object.fov / 2 ) * Math.PI / 180.0 );\n\n      // we actually don't use screenWidth, since perspective camera is fixed to screen height\n      this.panLeft( 2 * deltaX * targetDistance / (element as any).clientHeight, this.object.matrix );\n      this.panUp( 2 * deltaY * targetDistance / (element as any).clientHeight, this.object.matrix );\n    } else if ( this.object instanceof THREE.OrthographicCamera ) {\n      // orthographic\n      this.panLeft( deltaX * ( this.object.right - this.object.left ) / this.object.zoom / (element as any).clientWidth, this.object.matrix );\n      this.panUp( deltaY * ( this.object.top - this.object.bottom ) / this.object.zoom / (element as any).clientHeight, this.object.matrix );\n    } else {\n      // camera neither orthographic nor perspective\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n      this.enablePan = false;\n    }\n  }\n\n  dollyIn( dollyScale: any ) {\n    if ( this.object instanceof THREE.PerspectiveCamera ) {\n      this.scale /= dollyScale;\n    } else if ( this.object instanceof THREE.OrthographicCamera ) {\n      this.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      this.enableZoom = false;\n    }\n  }\n\n  dollyOut( dollyScale: any ) {\n    if ( this.object instanceof THREE.PerspectiveCamera ) {\n      this.scale *= dollyScale;\n    } else if ( this.object instanceof THREE.OrthographicCamera ) {\n      this.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      this.enableZoom = false;\n    }\n  }\n\n  getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n  }\n\n  getZoomScale() {\n    return Math.pow( 0.95, this.zoomSpeed );\n  }\n\n  rotateLeft( angle: number ) {\n    (this.sphericalDelta as any).theta -= angle;\n  }\n\n  rotateUp( angle: number ) {\n    (this.sphericalDelta as any).phi -= angle;\n  }\n\n  getPolarAngle (): number {\n    return (this.spherical as any).phi;\n  }\n\n  getAzimuthalAngle (): number {\n    return (this.spherical as any).theta;\n  }\n\n  dispose (): void {\n    this.domElement.removeEventListener( 'contextmenu', this.onContextMenu, false );\n    this.domElement.removeEventListener( 'mousedown', this.onMouseDown, false );\n    this.domElement.removeEventListener( 'wheel', this.onMouseWheel, false );\n\n    this.domElement.removeEventListener( 'touchstart', this.onTouchStart, false );\n    this.domElement.removeEventListener( 'touchend', this.onTouchEnd, false );\n    this.domElement.removeEventListener( 'touchmove', this.onTouchMove, false );\n\n    document.removeEventListener( 'mousemove', this.onMouseMove, false );\n    document.removeEventListener( 'mouseup', this.onMouseUp, false );\n\n    this.window.removeEventListener( 'keydown', this.onKeyDown, false );\n    //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  }\n\n  reset (): void {\n    this.target.copy( this.target0 );\n    this.object.position.copy( this.position0 );\n    (this.object as any).zoom = this.zoom0;\n\n    (this.object as any).updateProjectionMatrix();\n    this.dispatchEvent( CHANGE_EVENT );\n\n    this.update();\n\n    this.state = STATE.NONE;\n  }\n\n  // backward compatibility\n  get center(): THREE.Vector3 {\n    console.warn('THREE.OrbitControls: .center has been renamed to .target');\n    return this.target;\n  }\n  get noZoom(): boolean {\n    console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n    return ! this.enableZoom;\n  }\n\n  set noZoom( value: boolean ) {\n    console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n    this.enableZoom = ! value;\n  }\n}\n\ninterface ThreeEvent extends Event {\n  clientX: number;\n  clientY: number;\n  deltaY: number;\n  button: THREE.MOUSE;\n  touches: Array<any>;\n  keyCode: number;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import setPrototypeOf from \"./setPrototypeOf\";\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import * as THREE from 'three'\nimport { OrbitControls } from './orbitControls'\nimport Stats from 'stats.js'\n\n/**\n * @method canvasType canvas参数\n * @param node 生成结点\n * @param cameraOption 相机参数[视野, 显示口的宽高比, 近裁剪面, 远裁剪面]\n * @param cameraPosition 相机视点[x, y, z]\n * @param renderColor 渲染器颜色\n * @param ambientLight 环境光\n * @param directionalLight 平衡光\n * @param directionalLightPosition 光源视点\n * @param lightIntensity 曝光度\n * @param controls 控制器\n */\ninterface canvasType {\n  node: any\n  cameraOption?: number[]\n  cameraPosition?: number[]\n  rendererOption?: object\n  rendererColor?: any\n  ambientLight?: any\n  directionalLight?: any\n  directionalLightPosition?: number[]\n  lightIntensity?: number,\n  controls?: any\n}\ninterface GeometryType {\n  mesh: any\n  animate?: any\n  update?: any\n  definedAnimate?: any\n}\n\nexport default class Threescene {\n  private _scene: THREE.Scene\n  private _camera: THREE.PerspectiveCamera\n  private _renderer: THREE.WebGLRenderer\n  private _ambientLight: THREE.AmbientLight\n  private _directionalLight: THREE.DirectionalLight\n  private _controls: OrbitControls\n  private _stats: Stats\n  private _options: canvasType\n  private _animateSign: number\n  public constructor(options: canvasType) {\n    this._options = options\n    this._scene = new THREE.Scene()\n    this._camera = new THREE.PerspectiveCamera(...this._options.cameraOption || [45, window.innerWidth / window.innerHeight, 0.1, 2000])\n    this._renderer = new THREE.WebGLRenderer(this._options.rendererOption || {})\n    this._ambientLight = new THREE.AmbientLight(this._options.ambientLight || 0x404040)\n    this._directionalLight = new THREE.DirectionalLight(this._options.directionalLight || 0xFF0000)\n    this._controls = new OrbitControls(this._camera, this._renderer.domElement)\n    this._stats = new Stats()\n    this._animateSign = 0\n    this.init()\n  }\n  /**\n   * @method init 初始化场景\n   */\n  public init() {\n    let position\n    this._options.cameraPosition ? position = this._options.cameraPosition : position = [-40, 40, 40]\n    this._camera.position.set(position[0], position[1], position[2])\n    this._renderer.setClearColor(this._options.rendererColor || 0x282c34)\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n    this._renderer.setPixelRatio(window.devicePixelRatio)\n    this._options.node.appendChild(this._renderer.domElement)\n    // this._scene.add(new THREE.AxesHelper(10))\n    this.initLight()\n    this.initControls()\n    this.initStats()\n    this.animate()\n    window.onresize = this.onWindowResize\n  }\n  /**\n   * @method initLight 初始化灯光\n   */\n  private initLight() {\n    this._scene.add(this._ambientLight)\n    const directionalLightPosition = this._options.directionalLightPosition || [0, 0, 1]\n    this._directionalLight.position.set(directionalLightPosition[0], directionalLightPosition[1], directionalLightPosition[2])\n    this._directionalLight.intensity = this._options.lightIntensity || 0.6\n    this._scene.add(this._directionalLight)\n  }\n  /**\n   * @method initControls 初始化轨道控制器\n   * @param enableDamping 启用阻尼效果\n   * @param dampingFactor 阻尼系数\n   * @param autoRotate 启用自动旋转\n   */\n  private initControls() {\n    const defaultOptions = this._options.controls || {}\n    this._controls.minDistance = defaultOptions.minDistance || 0\n    this._controls.maxDistance = defaultOptions.maxDistance || Infinity\n    this._controls.minPolarAngle = defaultOptions.minPolarAngle || 0\n    this._controls.maxPolarAngle = defaultOptions.maxPolarAngle || Math.PI\n    this._controls.enablePan = defaultOptions.enablePan || true\n    this._controls.enableZoom  = defaultOptions.enablePan || true\n    this._controls.enableDamping = defaultOptions.enableDamping || true\n    this._controls.dampingFactor = defaultOptions.dampingFactor || 0.25\n    this._controls.autoRotate = defaultOptions.autoRotate || false\n  }\n  /**\n   * @method initControls 初始化性能监控\n   */\n  private initStats() {\n    this._stats.showPanel(1)\n    this._options.node.appendChild(this._stats.dom)\n  }\n  /**\n   * @method onWindowResize 窗口变动触发的函数\n   */\n  private onWindowResize = () => {\n    this._camera.aspect = window.innerWidth / window.innerHeight\n    this._camera.updateProjectionMatrix()\n    this.render()\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n  }\n  /**\n   * @method render 渲染函数\n   */\n  private render() {\n    this._renderer.render(this._scene, this._camera)\n  }\n  /**\n   * @method animate 动画\n   */\n  private animate = () => {\n    this.render()\n    this._animateSign = requestAnimationFrame(this.animate)\n    this._stats.update()\n    this._controls.update()\n  }\n  /**\n   * @method initObject 添加模型并加载对应的动画\n   */\n  initObject = (props: GeometryType) => {\n    if (props.mesh instanceof Array) {\n      this._scene.add(...props.mesh)\n    } else {\n      this._scene.add(props.mesh)\n    }\n    if (props.animate || props.definedAnimate) {\n      if (props.animate) props.animate(props.mesh)\n      cancelAnimationFrame(this._animateSign)\n      this.animate = () => {\n        if (props.definedAnimate) props.definedAnimate({ Mesh: props.mesh, Camera: this._camera, Scene: this._scene })\n        this.render()\n        this._animateSign = requestAnimationFrame(this.animate)\n        this._stats.update()\n        this._controls.update()\n        if (props.update) props.update(props.mesh)\n      }\n      this.animate()\n    }\n  }\n  /**\n   * @method removeObject 清除指定的模型\n   */\n  removeObject = (mesh: THREE.Mesh) => {\n    this._scene.remove(mesh)\n  }\n  destroy = () => {\n    cancelAnimationFrame(this._animateSign)\n  }\n}\n","var version = '18.5.0';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an\n\t\t// update, then the new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated.\n\t\t// However, if the removed tween was added during the current batch,\n\t\t// then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._isPaused = false;\n\tthis._pauseStart = null;\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tisPaused: function () {\n\t\treturn this._isPaused;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = Object.create(properties);\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._isPaused = false;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value, but only once.\n\t\t\tif (typeof(this._valuesStart[property]) === 'undefined') {\n\t\t\t\tthis._valuesStart[property] = this._object[property];\n\t\t\t}\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\n\t\tthis._isPlaying = false;\n\n\t\tthis._isPaused = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tpause: function(time) {\n\n\t\tif (this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = true;\n\n\t\tthis._pauseStart = time === undefined ? TWEEN.now() : time;\n\n\t\tthis._group.remove(this);\n\n\t\treturn this;\n\n\t},\n\n\tresume: function(time) {\n\n\t\tif (!this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = false;\n\n\t\tthis._startTime += (time === undefined ? TWEEN.now() : time)\n\t\t\t- this._pauseStart;\n\n\t\tthis._pauseStart = 0;\n\n\t\tthis._group.add(this);\n\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\nTWEEN.version = version;\n\nexport default TWEEN;\n","/**\n * @method randomColor 随机颜色\n */\nexport const randomColor = (): any => {\n  let arrHex = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'],\n    strHex = '0x',\n    index\n  for (let i = 0; i < 6; i++) {\n    index = Math.round(Math.random() * 15)\n    strHex += arrHex[index]\n  }\n  // eslint-disable-next-line no-eval\n  return eval(strHex)\n}","import React, { Component } from 'react'\nimport { Transition, Button } from 'semantic-ui-react'\nimport * as THREE from 'three'\nimport TWEEN from '@tweenjs/tween.js'\nimport { randomColor } from '../../common/random'\nimport InitCanvas from '../../common/initCanvas'\n\ninterface remarksType {\n  text: string,\n  animation: string\n}\ninterface TransitionRemarksState {\n  visible: boolean,\n  duration: number,\n  text: string,\n  animation: string,\n  index: number,\n  buttonType: string | undefined,\n  initCanvas: any\n}\nconst remarks: remarksType[] = [\n  { text: '此项目为简单的创建物体', animation: 'jiggle'  },\n  { text: '随机位置创建随机大小的球体', animation: 'fade up' },\n  { text: '试试吧', animation: 'fade up' }\n]\n\nconst Preface = (props: TransitionRemarksState) => {\n  return(\n    <Transition\n      animation={props.animation}\n      duration={props.duration}\n      visible={props.visible}\n    >\n      <p className='text-center'>{props.text}</p>\n    </Transition>\n  )\n}\n\nconst CreateGrid = (props: any) => {\n  return (<Button inverted color='violet' className='float-button' onClick={() => addGeometry(props)}>创造一个球体</Button>)\n}\n\nconst addGeometry = (props: any) => {\n  const color = randomColor()\n  const material = new THREE.MeshBasicMaterial({\n    color: color,\n    wireframe: false,\n    wireframeLinewidth: 1\n  })\n  /**\n   * @param geometry SphereGeometry球形(半径长度, 水平块的密度, 垂直块的密度)\n   */\n  const geometry = new THREE.SphereGeometry(Math.random() * 0.5, 20, 20)\n  const mesh = new THREE.Mesh(geometry, material)\n  mesh.position.set(Math.random() * 10 - 5, Math.random() * 10 - 5, Math.random() * 5)\n  mesh.castShadow = true\n  props.canvas.initObject({\n    mesh: mesh,\n    animate: (Mesh: THREE.Mesh) => {\n      new TWEEN.Tween(Mesh.position).to({ z: Math.floor((Math.random() > 0.5 ? -10 : 10) * Math.random()) }, 300).repeat(0).start()\n    },\n    update: () => {\n      TWEEN.update()\n    }\n  })\n}\n\nclass TransitionRemarks extends Component<{}, TransitionRemarksState> {\n  state = { visible: false, duration: 800, text: '', animation: '', index: 0, buttonType: '', initCanvas: null }\n  componentDidMount() {\n    const ElementNode: any = document.getElementById('Canvas-Container')\n    this.readRemarks(0, remarks, () => {\n      this.setState({ visible: false })\n      const options = {\n        node: ElementNode,\n        rendererOption: { antialias: true }, // 启用抗锯齿\n        controls: {\n          autoRotate: true\n        }\n      }\n      setTimeout(() => {\n        const initCanvas = new InitCanvas(options)\n        this.setState({\n          buttonType: 'grid',\n          initCanvas: initCanvas\n        })\n      }, this.state.duration)\n    })\n  }\n  \n  readRemarks = (index = 0, arr: remarksType[], callback: any): any => {  \n    const time = this.state.duration\n    if (index >= remarks.length) {\n      callback()\n    } else {\n      if (this.state.visible) {\n        this.setState({\n          visible: false,\n          duration: time / 2\n        })\n        setTimeout(() => {\n          return this.readRemarks(index, arr, callback)\n        }, time / 1.5)\n      } else {\n        this.setState({\n          visible: true,\n          text: remarks[index].text,\n          animation: remarks[index].animation,\n          index: index,\n          duration: time * 2\n        })\n        setTimeout(() => {\n          return this.readRemarks(index + 1, arr, callback)\n        }, time * 4)\n      }\n    }\n  }\n\n  render() {\n    const { buttonType } = this.state\n    let createButton\n    switch (buttonType) {\n      case 'grid':\n        createButton = (<CreateGrid canvas={this.state.initCanvas} />)\n        break\n      default:\n        createButton = ''\n    }\n    return (\n      <>\n        <Preface {...this.state} />\n        <div id='Canvas-Container'></div>\n        {createButton}\n      </>\n    )\n  }\n}\n\nexport default TransitionRemarks"],"sourceRoot":""}