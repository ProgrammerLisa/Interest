{"version":3,"sources":["common/orbitControls.ts","common/initCanvas.ts","../node_modules/process/browser.js","../node_modules/@tweenjs/tween.js/dist/tween.esm.js","common/random.ts","views/webgl/T2-CreateObjects.tsx"],"names":["STATE","NONE","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","CHANGE_EVENT","type","START_EVENT","END_EVENT","OrbitControls","object","domElement","domWindow","window","enabled","target","enableZoom","zoomSpeed","minDistance","maxDistance","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableKeys","keys","mouseButtons","enableDamping","dampingFactor","spherical","sphericalDelta","scale","target0","position0","zoom0","state","panOffset","zoomChanged","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","updateLastPosition","updateOffset","updateQuat","updateLastQuaternion","updateQuatInverse","panLeftV","panUpV","panInternalOffset","onContextMenu","onMouseUp","onMouseDown","onMouseMove","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onKeyDown","undefined","document","THREE","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ORBIT","ZOOM","MIDDLE","clone","position","zoom","setFromUnitVectors","up","inverse","event","preventDefault","button","set","clientX","clientY","addEventListener","dispatchEvent","subVectors","element","body","rotateLeft","x","clientWidth","rotateUp","y","clientHeight","copy","update","dollyIn","getZoomScale","dollyOut","pan","removeEventListener","stopPropagation","deltaY","keyCode","touches","length","pageX","pageY","dx","dy","distance","sqrt","this","sub","applyQuaternion","setFromVector3","getAutoRotationAngle","theta","phi","max","min","makeSafe","radius","add","setFromSpherical","lookAt","distanceToSquared","dot","quaternion","objectMatrix","setFromMatrixColumn","multiplyScalar","deltaX","targetDistance","tan","fov","panLeft","matrix","panUp","right","left","top","bottom","console","warn","dollyScale","updateProjectionMatrix","pow","angle","value","Threescene","options","_scene","_camera","_renderer","_ambientLight","_controls","_stats","_options","_animateSign","_gui","onWindowResize","aspect","innerWidth","innerHeight","render","setSize","animate","requestAnimationFrame","initObject","props","mesh","Array","definedAnimate","cancelAnimationFrame","Mesh","Camera","Scene","removeObject","remove","destroy","cameraOption","rendererOption","ambientLight","Stats","init","cameraPosition","setClearColor","rendererColor","setPixelRatio","devicePixelRatio","shadowMap","renderShadow","renderShadowType","node","appendChild","hideDatGui","initDat","initScene","initLight","initControls","initStats","onresize","sceneOption","obj","v","gui","lightY","sphereX","sphereZ","cubeX","cubeZ","datGui","dat","GUI","guiOption","forEach","name","defaultOptions","controls","showPanel","dom","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_Group","_tweens","_tweensAddedDuringUpdate","getAll","Object","map","tweenId","bind","removeAll","tween","getId","time","preserve","tweenIds","TWEEN","now","_isPlaying","Group","_nextId","nextId","self","hrtime","performance","Date","getTime","Tween","group","_isPaused","_pauseStart","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","isPaused","to","properties","duration","create","d","start","property","parseFloat","stop","stopChainedTweens","end","pause","resume","numChainedTweens","delay","amount","repeat","times","repeatDelay","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","onStart","callback","onUpdate","onRepeat","onComplete","onStop","elapsed","charAt","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","Back","s","Bounce","m","f","floor","fn","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","randomColor","arrHex","strHex","index","round","random","eval","remarks","text","animation","Preface","visible","className","CreateGrid","inverted","color","onClick","addGeometry","material","wireframe","wireframeLinewidth","geometry","castShadow","canvas","z","TransitionRemarks","buttonType","initCanvas","readRemarks","arr","setState","ElementNode","getElementById","antialias","InitCanvas","createButton","id","Component"],"mappings":"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","file":"static/js/14.d0db8cb4.chunk.js","sourcesContent":["import * as THREE from 'three';\n\nconst STATE = {\n  NONE: - 1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  TOUCH_ROTATE: 3,\n  TOUCH_DOLLY: 4,\n  TOUCH_PAN: 5\n};\n\nconst CHANGE_EVENT = { type: 'change' };\nconst START_EVENT = { type: 'start' };\nconst END_EVENT = { type: 'end' };\nconst EPS = 0.000001;\n\n/**\n* @author qiao / https://github.com/qiao\n* @author mrdoob / http://mrdoob.com\n* @author alteredq / http://alteredqualia.com/\n* @author WestLangley / http://github.com/WestLangley\n* @author erich666 / http://erichaines.com\n* @author nicolaspanel / http://github.com/nicolaspanel\n*\n* This set of controls performs orbiting, dollying (zooming), and panning.\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n*    Orbit - left mouse / touch: one finger move\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\n*/\nexport class OrbitControls extends THREE.EventDispatcher {\n  object: THREE.Camera;\n  domElement: HTMLElement | HTMLDocument;\n  window: Window;\n\n  // API\n  enabled: boolean;\n  target: THREE.Vector3;\n\n  enableZoom: boolean;\n  zoomSpeed: number;\n  minDistance: number;\n  maxDistance: number;\n  enableRotate: boolean;\n  rotateSpeed: number;\n  enablePan: boolean;\n  keyPanSpeed: number;\n  autoRotate: boolean;\n  autoRotateSpeed: number;\n  minZoom: number;\n  maxZoom: number;\n  minPolarAngle: number;\n  maxPolarAngle: number;\n  minAzimuthAngle: number;\n  maxAzimuthAngle: number;\n  enableKeys: boolean;\n  keys: { LEFT: number; UP: number; RIGHT: number; BOTTOM: number; };\n  mouseButtons: { ORBIT: THREE.MOUSE; ZOOM: THREE.MOUSE; PAN: THREE.MOUSE; };\n  enableDamping: boolean;\n  dampingFactor: number;\n\n  private spherical: THREE.Spherical;\n  private sphericalDelta: THREE.Spherical;\n  private scale: number;\n  private target0: THREE.Vector3;\n  private position0: THREE.Vector3;\n  private zoom0: any;\n  private state: number;\n  private panOffset: THREE.Vector3;\n  private zoomChanged: boolean;\n\n  private rotateStart: THREE.Vector2;\n  private rotateEnd: THREE.Vector2;\n  private rotateDelta: THREE.Vector2\n\n  private panStart: THREE.Vector2;\n  private panEnd: THREE.Vector2;\n  private panDelta: THREE.Vector2;\n\n  private dollyStart: THREE.Vector2;\n  private dollyEnd: THREE.Vector2;\n  private dollyDelta: THREE.Vector2;\n\n  private updateLastPosition: THREE.Vector3;\n  private updateOffset: THREE.Vector3;\n  private updateQuat: THREE.Quaternion;\n  private updateLastQuaternion: THREE.Quaternion;\n  private updateQuatInverse: THREE.Quaternion;\n\n  private panLeftV: THREE.Vector3;\n  private panUpV: THREE.Vector3;\n  private panInternalOffset: THREE.Vector3;\n\n  private onContextMenu: EventListener;\n  private onMouseUp: EventListener;\n  private onMouseDown: EventListener;\n  private onMouseMove: EventListener;\n  private onMouseWheel: EventListener;\n  private onTouchStart: EventListener;\n  private onTouchEnd: EventListener;\n  private onTouchMove: EventListener;\n  private onKeyDown: EventListener;\n\n  constructor (object: THREE.Camera, domElement?: HTMLElement, domWindow?: Window) {\n    super();\n    this.object = object;\n\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\n    this.window = ( domWindow !== undefined ) ? domWindow : window;\n\n    // Set to false to disable this control\n    this.enabled = true;\n\n    // \"target\" sets the location of focus, where the object orbits around\n    this.target = new THREE.Vector3();\n\n    // How far you can dolly in and out ( PerspectiveCamera only )\n    this.minDistance = 0;\n    this.maxDistance = Infinity;\n\n    // How far you can zoom in and out ( OrthographicCamera only )\n    this.minZoom = 0;\n    this.maxZoom = Infinity;\n\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    this.minPolarAngle = 0; // radians\n    this.maxPolarAngle = Math.PI; // radians\n\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    this.minAzimuthAngle = - Infinity; // radians\n    this.maxAzimuthAngle = Infinity; // radians\n\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    this.enableDamping = false;\n    this.dampingFactor = 0.25;\n\n    // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0;\n\n    // Set to false to disable rotating\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0;\n\n    // Set to false to disable panning\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n    // Set to false to disable use of the keys\n    this.enableKeys = true;\n\n    // The four arrow keys\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n    // Mouse buttons\n    this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n    // for reset\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = (this.object as any).zoom;\n\n    // for update speedup\n    this.updateOffset = new THREE.Vector3();\n    // so camera.up is the orbit axis\n    this.updateQuat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    this.updateQuatInverse = this.updateQuat.clone().inverse();\n    this.updateLastPosition = new THREE.Vector3();\n    this.updateLastQuaternion = new THREE.Quaternion();\n\n    this.state = STATE.NONE;\n    this.scale = 1;\n\n    // current position in spherical coordinates\n    this.spherical = new THREE.Spherical();\n    this.sphericalDelta = new THREE.Spherical();\n\n    this.panOffset = new THREE.Vector3();\n    this.zoomChanged = false;\n\n    this.rotateStart = new THREE.Vector2();\n    this.rotateEnd = new THREE.Vector2();\n    this.rotateDelta = new THREE.Vector2();\n\n    this.panStart = new THREE.Vector2();\n    this.panEnd = new THREE.Vector2();\n    this.panDelta = new THREE.Vector2();\n\n    this.dollyStart = new THREE.Vector2();\n    this.dollyEnd = new THREE.Vector2();\n    this.dollyDelta = new THREE.Vector2();\n\n    this.panLeftV = new THREE.Vector3();\n    this.panUpV = new THREE.Vector3();\n    this.panInternalOffset = new THREE.Vector3();\n\n    // event handlers - FSM: listen for events and reset state\n\n    this.onMouseDown = ( event: any ) => {\n      if ( this.enabled === false ) return;\n      event.preventDefault();\n      if ( (event as any).button === this.mouseButtons.ORBIT ) {\n        if ( this.enableRotate === false ) return;\n        this.rotateStart.set( event.clientX, event.clientY );\n        this.state = STATE.ROTATE;\n      } else if ( event.button === this.mouseButtons.ZOOM ) {\n        if ( this.enableZoom === false ) return;\n        this.dollyStart.set( event.clientX, event.clientY );\n        this.state = STATE.DOLLY;\n      } else if ( event.button === this.mouseButtons.PAN ) {\n        if ( this.enablePan === false ) return;\n        this.panStart.set( event.clientX, event.clientY );\n        this.state = STATE.PAN;\n      }\n\n      if ( this.state !== STATE.NONE ) {\n        document.addEventListener( 'mousemove', this.onMouseMove, false );\n        document.addEventListener( 'mouseup', this.onMouseUp, false );\n        this.dispatchEvent( START_EVENT );\n      }\n    };\n\n    this.onMouseMove = ( event: any ) => {\n\n      if ( this.enabled === false ) return;\n\n      event.preventDefault();\n\n      if ( this.state === STATE.ROTATE ) {\n        if ( this.enableRotate === false ) return;\n        this.rotateEnd.set( event.clientX, event.clientY );\n        this.rotateDelta.subVectors( this.rotateEnd, this.rotateStart );\n        const element = this.domElement === document ? this.domElement.body : this.domElement;\n\n        // rotating across whole screen goes 360 degrees around\n        this.rotateLeft( 2 * Math.PI * this.rotateDelta.x / (element as any).clientWidth * this.rotateSpeed );\n        // rotating up and down along whole screen attempts to go 360, but limited to 180\n        this.rotateUp( 2 * Math.PI * this.rotateDelta.y / (element as any).clientHeight * this.rotateSpeed );\n        this.rotateStart.copy( this.rotateEnd );\n\n        this.update();\n      } else if ( this.state === STATE.DOLLY ) {\n\n        if ( this.enableZoom === false ) return;\n\n        this.dollyEnd.set( event.clientX, event.clientY );\n        this.dollyDelta.subVectors( this.dollyEnd, this.dollyStart );\n\n        if ( this.dollyDelta.y > 0 ) {\n          this.dollyIn( this.getZoomScale() );\n        } else if ( this.dollyDelta.y < 0 ) {\n          this.dollyOut( this.getZoomScale() );\n        }\n\n        this.dollyStart.copy( this.dollyEnd );\n        this.update();\n      } else if ( this.state === STATE.PAN ) {\n\n        if ( this.enablePan === false ) return;\n\n        this.panEnd.set( event.clientX, event.clientY );\n        this.panDelta.subVectors( this.panEnd, this.panStart );\n        this.pan( this.panDelta.x, this.panDelta.y );\n        this.panStart.copy( this.panEnd );\n        this.update();\n      }\n    }\n\n    this.onMouseUp = ( event: any ) => {\n      if ( this.enabled === false ) return;\n      document.removeEventListener( 'mousemove', this.onMouseMove, false );\n      document.removeEventListener( 'mouseup', this.onMouseUp, false );\n\n      this.dispatchEvent( END_EVENT );\n      this.state = STATE.NONE;\n    };\n\n    this.onMouseWheel = ( event: any ) => {\n\n      if ( this.enabled === false || this.enableZoom === false || ( this.state !== STATE.NONE && this.state !== STATE.ROTATE ) ) return;\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if ( event.deltaY < 0 ) {\n        this.dollyOut( this.getZoomScale() );\n      } else if ( event.deltaY > 0 ) {\n        this.dollyIn( this.getZoomScale() );\n      }\n\n      this.update();\n\n      this.dispatchEvent( START_EVENT ); // not sure why these are here...\n      this.dispatchEvent( END_EVENT );\n    };\n\n    this.onKeyDown = ( event: any ) => {\n\n      if ( this.enabled === false || this.enableKeys === false || this.enablePan === false ) return;\n\n      switch ( event.keyCode ) {\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.UP: {\n          this.pan( 0, this.keyPanSpeed );\n          this.update();\n        } break;\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.BOTTOM: {\n          this.pan( 0, - this.keyPanSpeed );\n          this.update();\n        } break;\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.LEFT: {\n          this.pan( this.keyPanSpeed, 0 );\n          this.update();\n        } break;\n        // eslint-disable-next-line no-lone-blocks\n        case this.keys.RIGHT: {\n          this.pan( - this.keyPanSpeed, 0 );\n          this.update();\n        } break;\n      }\n    };\n\n    this.onTouchStart = ( event: any ) => {\n\n      if ( this.enabled === false ) return;\n\n      switch ( event.touches.length ) {\n        // one-fingered touch: rotate\n        // eslint-disable-next-line no-lone-blocks\n        case 1: {\n          if ( this.enableRotate === false ) return;\n\n          this.rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.state = STATE.TOUCH_ROTATE;\n        } break;\n        // two-fingered touch: dolly\n        // eslint-disable-next-line no-lone-blocks\n        case 2:\t{\n          if ( this.enableZoom === false ) return;\n\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n          var distance = Math.sqrt( dx * dx + dy * dy );\n          this.dollyStart.set( 0, distance );\n          this.state = STATE.TOUCH_DOLLY;\n        } break;\n        // three-fingered touch: pan\n        // eslint-disable-next-line no-lone-blocks\n        case 3: {\n          if ( this.enablePan === false ) return;\n\n          this.panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.state = STATE.TOUCH_PAN;\n        } break;\n        default: {\n          this.state = STATE.NONE;\n        }\n      }\n\n      if ( this.state !== STATE.NONE ) {\n        this.dispatchEvent( START_EVENT );\n      }\n    };\n\n    this.onTouchMove = ( event: any ) => {\n\n      if ( this.enabled === false ) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch ( event.touches.length ) {\n        // one-fingered touch: rotate\n        // eslint-disable-next-line no-lone-blocks\n        case 1: {\n          if ( this.enableRotate === false ) return;\n          if ( this.state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n          this.rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.rotateDelta.subVectors( this.rotateEnd, this.rotateStart );\n\n          var element = this.domElement === document ? this.domElement.body : this.domElement;\n\n          // rotating across whole screen goes 360 degrees around\n          this.rotateLeft( 2 * Math.PI * this.rotateDelta.x / (element as any).clientWidth * this.rotateSpeed );\n\n          // rotating up and down along whole screen attempts to go 360, but limited to 180\n          this.rotateUp( 2 * Math.PI * this.rotateDelta.y / (element as any).clientHeight * this.rotateSpeed );\n\n          this.rotateStart.copy( this.rotateEnd );\n\n          this.update();\n        } break;\n        // two-fingered touch: dolly\n        // eslint-disable-next-line no-lone-blocks\n        case 2: {\n          if ( this.enableZoom === false ) return;\n          if ( this.state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n          //console.log( 'handleTouchMoveDolly' );\n          var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n          var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n          var distance = Math.sqrt( dx * dx + dy * dy );\n\n          this.dollyEnd.set( 0, distance );\n\n          this.dollyDelta.subVectors( this.dollyEnd, this.dollyStart );\n\n          if ( this.dollyDelta.y > 0 ) {\n            this.dollyOut( this.getZoomScale() );\n          } else if ( this.dollyDelta.y < 0 ) {\n            this.dollyIn( this.getZoomScale() );\n          }\n\n          this.dollyStart.copy( this.dollyEnd );\n          this.update();\n        } break;\n        // three-fingered touch: pan\n        // eslint-disable-next-line no-lone-blocks\n        case 3: {\n          if ( this.enablePan === false ) return;\n          if ( this.state !== STATE.TOUCH_PAN ) return; // is this needed?...\n          this.panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n          this.panDelta.subVectors( this.panEnd, this.panStart );\n          this.pan( this.panDelta.x, this.panDelta.y );\n          this.panStart.copy( this.panEnd );\n          this.update();\n        } break;\n        default: {\n          this.state = STATE.NONE;\n        }\n      }\n    };\n\n    this.onTouchEnd = ( event: Event ) => {\n\n      if ( this.enabled === false ) return;\n      this.dispatchEvent( END_EVENT );\n      this.state = STATE.NONE;\n    }\n\n    this.onContextMenu = (event) => {\n      event.preventDefault();\n    };\n\n    this.domElement.addEventListener( 'contextmenu', this.onContextMenu, false );\n\n    this.domElement.addEventListener( 'mousedown', this.onMouseDown, false );\n    this.domElement.addEventListener( 'wheel', this.onMouseWheel, false );\n\n    this.domElement.addEventListener( 'touchstart', this.onTouchStart, false );\n    this.domElement.addEventListener( 'touchend', this.onTouchEnd, false );\n    this.domElement.addEventListener( 'touchmove', this.onTouchMove, false );\n\n    this.window.addEventListener( 'keydown', this.onKeyDown, false );\n\n    // force an update at start\n    this.update();\n  }\n\n  update () {\n    const position = this.object.position;\n    this.updateOffset.copy( position ).sub( this.target );\n\n    // rotate offset to \"y-axis-is-up\" space\n    this.updateOffset.applyQuaternion( this.updateQuat );\n\n    // angle from z-axis around y-axis\n    this.spherical.setFromVector3( this.updateOffset );\n\n    if ( this.autoRotate && this.state === STATE.NONE ) {\n      this.rotateLeft( this.getAutoRotationAngle() );\n    }\n\n    (this.spherical as any).theta += (this.sphericalDelta as any).theta;\n    (this.spherical as any).phi += (this.sphericalDelta as any).phi;\n\n    // restrict theta to be between desired limits\n    (this.spherical as (any) as any).theta = Math.max( this.minAzimuthAngle, Math.min( this.maxAzimuthAngle, (this.spherical as any).theta ) );\n\n    // restrict phi to be between desired limits\n    (this.spherical as any).phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, (this.spherical as any).phi ) );\n\n    this.spherical.makeSafe();\n\n    (this.spherical as any).radius *= this.scale;\n\n    // restrict radius to be between desired limits\n    (this.spherical as any).radius = Math.max( this.minDistance, Math.min( this.maxDistance, (this.spherical as any).radius ) );\n\n    // move target to panned location\n    this.target.add( this.panOffset );\n\n    this.updateOffset.setFromSpherical( this.spherical );\n\n    // rotate offset back to \"camera-up-vector-is-up\" space\n    this.updateOffset.applyQuaternion( this.updateQuatInverse );\n\n    position.copy( this.target ).add( this.updateOffset );\n\n    this.object.lookAt( this.target );\n\n    if ( this.enableDamping === true ) {\n\n      (this.sphericalDelta as any).theta *= ( 1 - this.dampingFactor );\n      (this.sphericalDelta as any).phi *= ( 1 - this.dampingFactor );\n\n    } else {\n\n      this.sphericalDelta.set( 0, 0, 0 );\n\n    }\n\n    this.scale = 1;\n    this.panOffset.set( 0, 0, 0 );\n\n    // update condition is:\n    // min(camera displacement, camera rotation in radians)^2 > EPS\n    // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n    if ( this.zoomChanged ||\n      this.updateLastPosition.distanceToSquared( this.object.position ) > EPS ||\n      8 * ( 1 - this.updateLastQuaternion.dot( this.object.quaternion ) ) > EPS ) {\n\n      this.dispatchEvent( CHANGE_EVENT );\n      this.updateLastPosition.copy( this.object.position );\n      this.updateLastQuaternion.copy( this.object.quaternion );\n      this.zoomChanged = false;\n      return true;\n    }\n    return false;\n  }\n\n  panLeft( distance: number, objectMatrix: any ) {\n    this.panLeftV.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n    this.panLeftV.multiplyScalar( - distance );\n    this.panOffset.add( this.panLeftV );\n  }\n\n  panUp( distance: number, objectMatrix: any ) {\n    this.panUpV.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n    this.panUpV.multiplyScalar( distance );\n    this.panOffset.add( this.panUpV );\n  }\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  pan( deltaX: number, deltaY: number ) {\n    const element = this.domElement === document ? this.domElement.body : this.domElement;\n\n    if ( this.object instanceof THREE.PerspectiveCamera ) {\n      // perspective\n      const position = this.object.position;\n      this.panInternalOffset.copy( position ).sub( this.target );\n      var targetDistance = this.panInternalOffset.length();\n\n      // half of the fov is center to top of screen\n      targetDistance *= Math.tan( ( this.object.fov / 2 ) * Math.PI / 180.0 );\n\n      // we actually don't use screenWidth, since perspective camera is fixed to screen height\n      this.panLeft( 2 * deltaX * targetDistance / (element as any).clientHeight, this.object.matrix );\n      this.panUp( 2 * deltaY * targetDistance / (element as any).clientHeight, this.object.matrix );\n    } else if ( this.object instanceof THREE.OrthographicCamera ) {\n      // orthographic\n      this.panLeft( deltaX * ( this.object.right - this.object.left ) / this.object.zoom / (element as any).clientWidth, this.object.matrix );\n      this.panUp( deltaY * ( this.object.top - this.object.bottom ) / this.object.zoom / (element as any).clientHeight, this.object.matrix );\n    } else {\n      // camera neither orthographic nor perspective\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n      this.enablePan = false;\n    }\n  }\n\n  dollyIn( dollyScale: any ) {\n    if ( this.object instanceof THREE.PerspectiveCamera ) {\n      this.scale /= dollyScale;\n    } else if ( this.object instanceof THREE.OrthographicCamera ) {\n      this.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom * dollyScale ) );\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      this.enableZoom = false;\n    }\n  }\n\n  dollyOut( dollyScale: any ) {\n    if ( this.object instanceof THREE.PerspectiveCamera ) {\n      this.scale *= dollyScale;\n    } else if ( this.object instanceof THREE.OrthographicCamera ) {\n      this.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / dollyScale ) );\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      this.enableZoom = false;\n    }\n  }\n\n  getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n  }\n\n  getZoomScale() {\n    return Math.pow( 0.95, this.zoomSpeed );\n  }\n\n  rotateLeft( angle: number ) {\n    (this.sphericalDelta as any).theta -= angle;\n  }\n\n  rotateUp( angle: number ) {\n    (this.sphericalDelta as any).phi -= angle;\n  }\n\n  getPolarAngle (): number {\n    return (this.spherical as any).phi;\n  }\n\n  getAzimuthalAngle (): number {\n    return (this.spherical as any).theta;\n  }\n\n  dispose (): void {\n    this.domElement.removeEventListener( 'contextmenu', this.onContextMenu, false );\n    this.domElement.removeEventListener( 'mousedown', this.onMouseDown, false );\n    this.domElement.removeEventListener( 'wheel', this.onMouseWheel, false );\n\n    this.domElement.removeEventListener( 'touchstart', this.onTouchStart, false );\n    this.domElement.removeEventListener( 'touchend', this.onTouchEnd, false );\n    this.domElement.removeEventListener( 'touchmove', this.onTouchMove, false );\n\n    document.removeEventListener( 'mousemove', this.onMouseMove, false );\n    document.removeEventListener( 'mouseup', this.onMouseUp, false );\n\n    this.window.removeEventListener( 'keydown', this.onKeyDown, false );\n    //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  }\n\n  reset (): void {\n    this.target.copy( this.target0 );\n    this.object.position.copy( this.position0 );\n    (this.object as any).zoom = this.zoom0;\n\n    (this.object as any).updateProjectionMatrix();\n    this.dispatchEvent( CHANGE_EVENT );\n\n    this.update();\n\n    this.state = STATE.NONE;\n  }\n\n  // backward compatibility\n  get center(): THREE.Vector3 {\n    console.warn('THREE.OrbitControls: .center has been renamed to .target');\n    return this.target;\n  }\n  get noZoom(): boolean {\n    console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n    return ! this.enableZoom;\n  }\n\n  set noZoom( value: boolean ) {\n    console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n    this.enableZoom = ! value;\n  }\n}\n\ninterface ThreeEvent extends Event {\n  clientX: number;\n  clientY: number;\n  deltaY: number;\n  button: THREE.MOUSE;\n  touches: Array<any>;\n  keyCode: number;\n}\n","import * as THREE from 'three'\nimport { OrbitControls } from './orbitControls'\nimport Stats from 'stats.js'\nimport dat from 'dat.gui'\n\n/**\n * @method canvasType canvas参数\n * @param node 生成结点\n * @param cameraOption 相机参数[视野, 显示口的宽高比, 近裁剪面, 远裁剪面]\n * @param cameraPosition 相机视点[x, y, z]\n * @param renderColor 渲染器颜色\n * @param ambientLight 环境光\n * @param controls 控制器\n */\ninterface canvasType {\n  node: any\n  cameraOption?: number[]\n  cameraPosition?: number[]\n  sceneOption?: any\n  rendererOption?: object\n  renderShadow?: boolean\n  renderShadowType?: THREE.ShadowMapType\n  rendererColor?: any\n  ambientLight?: any\n  controls?: any\n  hideDatGui?: boolean\n  gui?: object\n  guiOption?: any\n}\ninterface GeometryType {\n  mesh: any\n  animate?: any\n  update?: any\n  definedAnimate?: any\n}\ninterface Map extends THREE.Scene {\n  [key: string]: any\n  [index: number]: any\n}\n\nexport default class Threescene {\n  private _scene: Map\n  private _camera: THREE.PerspectiveCamera\n  private _renderer: THREE.WebGLRenderer\n  private _ambientLight: THREE.AmbientLight\n  private _controls: OrbitControls\n  private _stats: Stats\n  private _options: canvasType\n  private _animateSign: number\n  public _gui: any\n  public constructor(options: canvasType) {\n    this._options = options\n    this._scene = new THREE.Scene()\n    this._camera = new THREE.PerspectiveCamera(...this._options.cameraOption || [45, window.innerWidth / window.innerHeight, 0.1, 2000])\n    this._renderer = new THREE.WebGLRenderer(this._options.rendererOption || {})\n    this._ambientLight = new THREE.AmbientLight(this._options.ambientLight || 0x404040)\n    this._controls = new OrbitControls(this._camera, this._renderer.domElement)\n    this._stats = new Stats()\n    this._animateSign = 0\n    this.init()\n  }\n  /**\n   * @method init 初始化场景\n   */\n  public init() {\n    let position\n    this._options.cameraPosition ? position = this._options.cameraPosition : position = [-40, 40, 40]\n    this._camera.position.set(position[0], position[1], position[2])\n    this._renderer.setClearColor(this._options.rendererColor || 0x282c34)\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n    this._renderer.setPixelRatio(window.devicePixelRatio)\n    this._renderer.shadowMap.enabled = this._options.renderShadow || false\n    if (this._options.renderShadowType) this._renderer.shadowMap.type = this._options.renderShadowType\n    this._options.node.appendChild(this._renderer.domElement)\n    // this._scene.add(new THREE.AxesHelper(10))\n    if (!this._options.hideDatGui) this.initDat()\n    this.initScene()\n    this.initLight()\n    this.initControls()\n    this.initStats()\n    this.animate()\n    window.onresize = this.onWindowResize\n  }\n  /**\n   * @method initDat 初始化Dat\n   */\n  private initScene() {\n    if (this._options.sceneOption) {\n      let obj = this._options.sceneOption\n      for (let v in obj) {\n        if (v in this._scene) {\n          this._scene[v] = obj[v]\n        }\n      }\n    }\n  }\n  /**\n   * @method initDat 初始化Dat\n   */\n  private initDat() {\n    this._gui = this._options.gui || {\n      lightY: 30, //灯光y轴的位置\n      sphereX: 0, //球的x轴的位置\n      sphereZ: 0, //球的z轴的位置\n      cubeX: 25, //立方体的x轴位置\n      cubeZ: -5 //立方体的z轴的位置\n    }\n    let datGui = new dat.GUI()\n    if (this._options.guiOption) {\n      this._options.guiOption.forEach((v: any) => {\n        datGui.add(this._gui, v.name, v.min, v.max)\n      })\n    }\n  }\n  /**\n   * @method initControls 初始化轨道控制器\n   * @param enableDamping 启用阻尼效果\n   * @param dampingFactor 阻尼系数\n   * @param autoRotate 启用自动旋转\n   */\n  private initControls() {\n    const defaultOptions = this._options.controls || {}\n    this._controls.minDistance = defaultOptions.minDistance || 0\n    this._controls.maxDistance = defaultOptions.maxDistance || Infinity\n    this._controls.minPolarAngle = defaultOptions.minPolarAngle || 0\n    this._controls.maxPolarAngle = defaultOptions.maxPolarAngle || Math.PI\n    this._controls.enablePan = defaultOptions.enablePan === false ? false : true\n    this._controls.enableZoom  = defaultOptions.enableZoom || true\n    this._controls.enableDamping = defaultOptions.enableDamping || true\n    this._controls.dampingFactor = defaultOptions.dampingFactor || 0.25\n    this._controls.autoRotate = defaultOptions.autoRotate || false\n  }\n  /**\n   * @method initControls 初始化性能监控\n   */\n  private initStats() {\n    this._stats.showPanel(1)\n    this._options.node.appendChild(this._stats.dom)\n  }\n  /**\n   * @method onWindowResize 窗口变动触发的函数\n   */\n  private onWindowResize = () => {\n    this._camera.aspect = window.innerWidth / window.innerHeight\n    this._camera.updateProjectionMatrix()\n    this.render()\n    this._renderer.setSize(window.innerWidth, window.innerHeight)\n  }\n  /**\n   * @method render 渲染函数\n   */\n  private render() {\n    this._renderer.render(this._scene, this._camera)\n  }\n  /**\n   * @method animate 动画\n   */\n  private animate = () => {\n    this.render()\n    this._stats.update()\n    this._controls.update()\n    this._animateSign = requestAnimationFrame(this.animate)\n  }\n  /**\n   * @method initLight 初始化灯光\n   */\n  private initLight() {\n    this._scene.add(this._ambientLight)\n  }\n  /**\n   * @method initObject 添加模型并加载对应的动画\n   */\n  initObject = (props: GeometryType) => {\n    if (props.mesh instanceof Array) {\n      this._scene.add(...props.mesh)\n    } else {\n      this._scene.add(props.mesh)\n    }\n    if (props.animate || props.definedAnimate) {\n      if (props.animate) props.animate(props.mesh)\n      cancelAnimationFrame(this._animateSign)\n      this.animate = () => {\n        if (props.definedAnimate) props.definedAnimate({ Mesh: props.mesh, Camera: this._camera, Scene: this._scene })\n        this.render()\n        this._animateSign = requestAnimationFrame(this.animate)\n        this._stats.update()\n        this._controls.update()\n        if (props.update) props.update(props.mesh)\n      }\n      this.animate()\n    }\n  }\n  /**\n   * @method removeObject 清除指定的模型\n   */\n  removeObject = (mesh: THREE.Mesh) => {\n    this._scene.remove(mesh)\n  }\n  destroy = () => {\n    cancelAnimationFrame(this._animateSign)\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var version = '18.5.0';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an\n\t\t// update, then the new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated.\n\t\t// However, if the removed tween was added during the current batch,\n\t\t// then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._isPaused = false;\n\tthis._pauseStart = null;\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tisPaused: function () {\n\t\treturn this._isPaused;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = Object.create(properties);\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._isPaused = false;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value, but only once.\n\t\t\tif (typeof(this._valuesStart[property]) === 'undefined') {\n\t\t\t\tthis._valuesStart[property] = this._object[property];\n\t\t\t}\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\n\t\tthis._isPlaying = false;\n\n\t\tthis._isPaused = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tpause: function(time) {\n\n\t\tif (this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = true;\n\n\t\tthis._pauseStart = time === undefined ? TWEEN.now() : time;\n\n\t\tthis._group.remove(this);\n\n\t\treturn this;\n\n\t},\n\n\tresume: function(time) {\n\n\t\tif (!this._isPaused || !this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._isPaused = false;\n\n\t\tthis._startTime += (time === undefined ? TWEEN.now() : time)\n\t\t\t- this._pauseStart;\n\n\t\tthis._pauseStart = 0;\n\n\t\tthis._group.add(this);\n\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\nTWEEN.version = version;\n\nexport default TWEEN;\n","/**\n * @method randomColor 随机颜色\n */\nexport const randomColor = (): any => {\n  let arrHex = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'],\n    strHex = '0x',\n    index\n  for (let i = 0; i < 6; i++) {\n    index = Math.round(Math.random() * 15)\n    strHex += arrHex[index]\n  }\n  // eslint-disable-next-line no-eval\n  return eval(strHex)\n}","import React, { Component } from 'react'\nimport { Transition, Button } from 'semantic-ui-react'\nimport * as THREE from 'three'\nimport TWEEN from '@tweenjs/tween.js'\nimport { randomColor } from '../../common/random'\nimport InitCanvas from '../../common/initCanvas'\n\ninterface remarksType {\n  text: string,\n  animation: string\n}\ninterface TransitionRemarksState {\n  visible: boolean,\n  duration: number,\n  text: string,\n  animation: string,\n  index: number,\n  buttonType: string | undefined,\n  initCanvas: any\n}\nconst remarks: remarksType[] = [\n  { text: '此项目为简单的创建物体', animation: 'jiggle'  },\n  { text: '随机位置创建随机大小的球体', animation: 'fade up' },\n  { text: '试试吧', animation: 'fade up' }\n]\n\nconst Preface = (props: TransitionRemarksState) => {\n  return(\n    <Transition\n      animation={props.animation}\n      duration={props.duration}\n      visible={props.visible}\n    >\n      <p className='text-center'>{props.text}</p>\n    </Transition>\n  )\n}\n\nconst CreateGrid = (props: any) => {\n  return (<Button inverted color='violet' className='float-button' onClick={() => addGeometry(props)}>创造一个球体</Button>)\n}\n\nconst addGeometry = (props: any) => {\n  const color = randomColor()\n  const material = new THREE.MeshBasicMaterial({\n    color: color,\n    wireframe: false,\n    wireframeLinewidth: 1\n  })\n  /**\n   * @param geometry SphereGeometry球形(半径长度, 水平块的密度, 垂直块的密度)\n   */\n  const geometry = new THREE.SphereGeometry(Math.random() * 0.5, 20, 20)\n  const mesh = new THREE.Mesh(geometry, material)\n  mesh.position.set(Math.random() * 10 - 5, Math.random() * 10 - 5, Math.random() * 5)\n  mesh.castShadow = true\n  props.canvas.initObject({\n    mesh: mesh,\n    animate: (Mesh: THREE.Mesh) => {\n      new TWEEN.Tween(Mesh.position).to({ z: Math.floor((Math.random() > 0.5 ? -10 : 10) * Math.random()) }, 300).repeat(0).start()\n    },\n    update: () => {\n      TWEEN.update()\n    }\n  })\n}\n\nclass TransitionRemarks extends Component<{}, TransitionRemarksState> {\n  state = { visible: false, duration: 800, text: '', animation: '', index: 0, buttonType: '', initCanvas: null }\n  componentDidMount() {\n    const ElementNode: any = document.getElementById('Canvas-Container')\n    this.readRemarks(0, remarks, () => {\n      this.setState({ visible: false })\n      const options = {\n        node: ElementNode,\n        rendererOption: { antialias: true }, // 启用抗锯齿\n        controls: {\n          autoRotate: true\n        }\n      }\n      setTimeout(() => {\n        const initCanvas = new InitCanvas(options)\n        this.setState({\n          buttonType: 'grid',\n          initCanvas: initCanvas\n        })\n      }, this.state.duration)\n    })\n  }\n  \n  readRemarks = (index = 0, arr: remarksType[], callback: any): any => {  \n    const time = this.state.duration\n    if (index >= remarks.length) {\n      callback()\n    } else {\n      if (this.state.visible) {\n        this.setState({\n          visible: false,\n          duration: time / 2\n        })\n        setTimeout(() => {\n          return this.readRemarks(index, arr, callback)\n        }, time / 1.5)\n      } else {\n        this.setState({\n          visible: true,\n          text: remarks[index].text,\n          animation: remarks[index].animation,\n          index: index,\n          duration: time * 2\n        })\n        setTimeout(() => {\n          return this.readRemarks(index + 1, arr, callback)\n        }, time * 4)\n      }\n    }\n  }\n\n  render() {\n    const { buttonType } = this.state\n    let createButton\n    switch (buttonType) {\n      case 'grid':\n        createButton = (<CreateGrid canvas={this.state.initCanvas} />)\n        break\n      default:\n        createButton = ''\n    }\n    return (\n      <>\n        <Preface {...this.state} />\n        <div id='Canvas-Container'></div>\n        {createButton}\n      </>\n    )\n  }\n}\n\nexport default TransitionRemarks"],"sourceRoot":""}